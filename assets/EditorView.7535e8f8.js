import{a as F}from"./vue-router.c17ffd82.js";import{m as C,q as p,t as v,v as e,G as b,u as t,z as g,o as M,f as D,n as N,r as E,R,W as z,k as I,i as h,Z as j,_ as B,F as A,E as K,P,Q as q}from"./@vue.6b771be9.js";import{B as f,_ as $,h as G,j as Q}from"./index.3bf4084e.js";import{_ as W}from"./DateTime.vue_vue_type_script_setup_true_lang.d7b500a1.js";import"./dexie.a92c4e2b.js";import"./uuid.fbc3d34b.js";import"./dayjs.8eec1a0d.js";import"./@vueuse.3609b986.js";import"./vue-i18n.a532ecf1.js";import"./@intlify.03657722.js";const Z={class:"bill-switch w-34 h-full rounded-lg relative bg-dark-800 flex items-center p-2 overflow-hidden"},H=C({__name:"BillSwitch",props:{modelValue:null},emits:["update:modelValue"],setup(n){return(u,l)=>(p(),v("div",Z,[e("div",{class:g(["bill-switch-toggle w-1/2 h-8/10 rounded-lg absolute transition-all flex justify-center items-center text-xs m-2 cursor-pointer",{income:n.modelValue===t(f).Income,expenses:n.modelValue===t(f).Expenses}]),onClick:l[0]||(l[0]=d=>u.$emit("update:modelValue",n.modelValue===t(f).Expenses?t(f).Income:t(f).Expenses))},b(n.modelValue===t(f).Income?u.$t("income"):u.$t("expenses")),3)]))}});const J=$(H,[["__scopeId","data-v-0b8b8bf9"]]),O={mounted:n=>{n.focus()}},X=(n,u)=>{let l=!1;M(()=>{const d=()=>{l=!0,N(()=>{l=!0})},_=()=>{l=!1},x=()=>{setTimeout(()=>{l||u()},0)};n.forEach(i=>{var a,c,r;(a=i.value)==null||a.addEventListener("focus",d,{capture:!0}),(c=i.value)==null||c.addEventListener("blur",_,{capture:!0}),(r=i.value)==null||r.addEventListener("blur",x)}),D(()=>{n.forEach(i=>{var a,c,r;(a=i.value)==null||a.removeEventListener("focus",d,{capture:!0}),(c=i.value)==null||c.removeEventListener("blur",_,{capture:!0}),(r=i.value)==null||r.removeEventListener("blur",x)})})})},L=n=>(P("data-v-1843ac74"),n=n(),q(),n),Y={class:"w-full h-full flex flex-col justify-between"},ee={class:"header flex pt-2"},te=L(()=>e("div",{class:"flex items-center justify-center"},[e("i",{class:"icon-chevron-left"})],-1)),oe={class:"w-full min-h-20 rounded-lg flex p-2 pb-0"},se={class:"text-white"},ne={class:"flex-1 flex flex-col justify-center items-end bg-stone-400 rounded-lg ml-2 p-2 overflow-x-scroll"},le={class:"sm:flex-1 flex-shrink-0 min-h-100px overflow-y-auto my-2 px-2"},ie={class:"flex flex-wrap justify-between"},re=["onMousedown"],ae={class:"mx-2"},ce={class:"keyboard-field <sm:flex-1 flex flex-col justify-start bg-stone-900 rounded-b-lg text-[white] p-2"},ue={class:"mb-1 flex justify-between items-center p-2"},de={class:"flex items-center"},me={key:0,class:"icon-xs icon-image text-[white]"},fe=["src"],pe={class:"p-2 rounded-full transition-all hover:bg-stone-700 active:bg-stone-500"},ve={class:"flex h-full flex-1"},_e=["placeholder"],xe=L(()=>e("i",{class:"icon-check icon-md"},null,-1)),he=[xe],be=C({__name:"EditorView",setup(n){const u=F(),{type:l,time:d,cateId:_,categories:x,comment:i,result:a,image:c,onConfirm:r,goBack:y,chooseImage:w}=G(u),k=E(),S=(m,s)=>{m.preventDefault(),_.value=s};R(()=>{Q()});const V=E();X([k,V],()=>{r()});const U=m=>{m.key==="Enter"&&r()};return(m,s)=>(p(),v("div",Y,[e("div",ee,[e("div",{class:"flex buttoned rounded-full py-1 px-3",onClick:s[0]||(s[0]=(...o)=>t(y)&&t(y)(...o))},[te,z(" "+b(m.$t("back")),1)])]),e("div",oe,[e("div",se,[I(J,{modelValue:t(l),"onUpdate:modelValue":s[1]||(s[1]=o=>h(l)?l.value=o:null)},null,8,["modelValue"])]),e("div",ne,[j(e("input",{ref_key:"moneyInput",ref:k,"onUpdate:modelValue":s[2]||(s[2]=o=>h(a)?a.value=o:null),inputmode:"decimal",placeholder:"0",type:"number",class:"text-white text-4xl font-semibold focus:border-none focus:outline-none text-right bg-transparent appearance-remove-all placeholder-white placeholder-opacity-50"},null,512),[[B,t(a)],[t(O)]])])]),e("div",le,[e("div",ie,[(p(!0),v(A,null,K(t(x),o=>(p(),v("div",{key:o.id,class:g(["rounded-lg bg-stone-200 border text-stone-700 flex-1 py-1 px-2 my-1 mr-1 h-8 flex items-center justify-center whitespace-nowrap cursor-pointer",{"bg-gray-600 text-light-900":t(_)===o.id}]),onMousedown:T=>S(T,o.id)},[e("i",{class:g(["icon-xs",[o.icon]])},null,2),e("div",ae,b(m.$t(o.name)),1)],42,re))),128))])]),e("div",ce,[e("div",ue,[e("div",de,[e("div",{class:"mx-1 p-2 flex justify-center items-center rounded-full transition-all hover:bg-stone-700 active:bg-stone-500",onClick:s[3]||(s[3]=(...o)=>t(w)&&t(w)(...o))},[t(c)?(p(),v("img",{key:1,src:t(c).url,alt:"",class:"w-6 h-6 object-cover rounded"},null,8,fe)):(p(),v("i",me))]),e("div",pe,[I(W,{modelValue:t(d),"onUpdate:modelValue":s[4]||(s[4]=o=>h(d)?d.value=o:null)},null,8,["modelValue"])])]),e("div",ve,[j(e("input",{ref_key:"commentInputEl",ref:V,"onUpdate:modelValue":s[5]||(s[5]=o=>h(i)?i.value=o:null),type:"text",class:"w-full bg-transparent text-white text-right placeholder-opacity-50 focus:border-none focus:outline-none",placeholder:m.$t("comment"),enterkeyhint:"done",onKeypress:U},null,40,_e),[[B,t(i)]])])]),e("button",{class:"flex h-80px justify-center items-center bg-green-700 rounded-lg m-2 font-bold text-lg cursor-pointer",onClick:s[6]||(s[6]=(...o)=>t(r)&&t(r)(...o))},he)])]))}});const $e=$(be,[["__scopeId","data-v-1843ac74"]]);export{$e as default};
