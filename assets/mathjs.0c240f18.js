import{D as mu}from"./decimal.js.f8235747.js";import{t as _u}from"./typed-function.0cf4a37b.js";import{_ as Lu}from"./@babel.9ebe5c4e.js";import{C as W}from"./complex.js.3b936b7b.js";import{F as K}from"./fraction.js.f0253b53.js";var Ju={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function x(u){return typeof u=="number"}function Z(u){return!u||typeof u!="object"||typeof u.constructor!="function"?!1:u.isBigNumber===!0&&typeof u.constructor.prototype=="object"&&u.constructor.prototype.isBigNumber===!0||typeof u.constructor.isDecimal=="function"&&u.constructor.isDecimal(u)===!0}function Wu(u){return u&&typeof u=="object"&&Object.getPrototypeOf(u).isComplex===!0||!1}function Zu(u){return u&&typeof u=="object"&&Object.getPrototypeOf(u).isFraction===!0||!1}function Vu(u){return u&&u.constructor.prototype.isUnit===!0||!1}function G(u){return typeof u=="string"}var $=Array.isArray;function X(u){return u&&u.constructor.prototype.isMatrix===!0||!1}function iu(u){return Array.isArray(u)||X(u)}function lr(u){return u&&u.isDenseMatrix&&u.constructor.prototype.isMatrix===!0||!1}function hr(u){return u&&u.isSparseMatrix&&u.constructor.prototype.isMatrix===!0||!1}function pr(u){return u&&u.constructor.prototype.isRange===!0||!1}function vu(u){return u&&u.constructor.prototype.isIndex===!0||!1}function Ar(u){return typeof u=="boolean"}function Er(u){return u&&u.constructor.prototype.isResultSet===!0||!1}function vr(u){return u&&u.constructor.prototype.isHelp===!0||!1}function Cr(u){return typeof u=="function"}function dr(u){return u instanceof Date}function gr(u){return u instanceof RegExp}function Cu(u){return!!(u&&typeof u=="object"&&u.constructor===Object&&!Wu(u)&&!Zu(u))}function Br(u){return u===null}function wr(u){return u===void 0}function yr(u){return u&&u.isAccessorNode===!0&&u.constructor.prototype.isNode===!0||!1}function mr(u){return u&&u.isArrayNode===!0&&u.constructor.prototype.isNode===!0||!1}function _r(u){return u&&u.isAssignmentNode===!0&&u.constructor.prototype.isNode===!0||!1}function Sr(u){return u&&u.isBlockNode===!0&&u.constructor.prototype.isNode===!0||!1}function br(u){return u&&u.isConditionalNode===!0&&u.constructor.prototype.isNode===!0||!1}function Nr(u){return u&&u.isConstantNode===!0&&u.constructor.prototype.isNode===!0||!1}function Mr(u){return u&&u.isFunctionAssignmentNode===!0&&u.constructor.prototype.isNode===!0||!1}function zr(u){return u&&u.isFunctionNode===!0&&u.constructor.prototype.isNode===!0||!1}function Or(u){return u&&u.isIndexNode===!0&&u.constructor.prototype.isNode===!0||!1}function Tr(u){return u&&u.isNode===!0&&u.constructor.prototype.isNode===!0||!1}function xr(u){return u&&u.isObjectNode===!0&&u.constructor.prototype.isNode===!0||!1}function Ir(u){return u&&u.isOperatorNode===!0&&u.constructor.prototype.isNode===!0||!1}function $r(u){return u&&u.isParenthesisNode===!0&&u.constructor.prototype.isNode===!0||!1}function Pr(u){return u&&u.isRangeNode===!0&&u.constructor.prototype.isNode===!0||!1}function Rr(u){return u&&u.isRelationalNode===!0&&u.constructor.prototype.isNode===!0||!1}function qr(u){return u&&u.isSymbolNode===!0&&u.constructor.prototype.isNode===!0||!1}function Ur(u){return u&&u.constructor.prototype.isChain===!0||!1}function ru(u){var r=typeof u;return r==="object"?u===null?"null":Z(u)?"BigNumber":u.constructor&&u.constructor.name?u.constructor.name:"Object":r}function L(u){var r=typeof u;if(r==="number"||r==="string"||r==="boolean"||u===null||u===void 0)return u;if(typeof u.clone=="function")return u.clone();if(Array.isArray(u))return u.map(function(t){return L(t)});if(u instanceof Date)return new Date(u.valueOf());if(Z(u))return u;if(Cu(u))return Lr(u,L);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(u,")"))}function Lr(u,r){var t={};for(var o in u)eu(u,o)&&(t[o]=r(u[o]));return t}function Jr(u,r){for(var t in r)eu(r,t)&&(u[t]=r[t]);return u}function uu(u,r){var t,o,n;if(Array.isArray(u)){if(!Array.isArray(r)||u.length!==r.length)return!1;for(o=0,n=u.length;o<n;o++)if(!uu(u[o],r[o]))return!1;return!0}else{if(typeof u=="function")return u===r;if(u instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in u)if(!(t in r)||!uu(u[t],r[t]))return!1;for(t in r)if(!(t in u))return!1;return!0}else return u===r}}function eu(u,r){return u&&Object.hasOwnProperty.call(u,r)}function Wr(u,r){for(var t={},o=0;o<r.length;o++){var n=r[o],a=u[n];a!==void 0&&(t[n]=a)}return t}var Zr=["Matrix","Array"],Vr=["number","BigNumber","Fraction"],du=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ju)};Lu(du,Ju,{MATRIX_OPTIONS:Zr,NUMBER_OPTIONS:Vr});function J(u){return typeof u=="boolean"?!0:isFinite(u)?u===Math.round(u):!1}function Fu(u,r,t){var o={2:"0b",8:"0o",16:"0x"},n=o[r],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!J(t))throw new Error("size must be an integer");if(u>2**(t-1)-1||u<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!J(u))throw new Error("Value must be an integer");u<0&&(u=u+2**t),a="i".concat(t)}var F="";return u<0&&(u=-u,F="-"),"".concat(F).concat(n).concat(u.toString(r)).concat(a)}function Au(u,r){if(typeof r=="function")return r(u);if(u===1/0)return"Infinity";if(u===-1/0)return"-Infinity";if(isNaN(u))return"NaN";var{notation:t,precision:o,wordSize:n}=Hu(r);switch(t){case"fixed":return Gr(u,o);case"exponential":return Gu(u,o);case"engineering":return Hr(u,o);case"bin":return Fu(u,2,n);case"oct":return Fu(u,8,n);case"hex":return Fu(u,16,n);case"auto":return Xr(u,o,r).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],F=arguments[4];return a!=="."?a+F:F});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Hu(u){var r="auto",t,o;if(u!==void 0)if(x(u))t=u;else if(Z(u))t=u.toNumber();else if(Cu(u))u.precision!==void 0&&(t=Su(u.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),u.wordSize!==void 0&&(o=Su(u.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),u.notation&&(r=u.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:o}}function fu(u){var r=String(u).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+u);var t=r[1],o=r[2],n=parseFloat(r[4]||"0"),a=o.indexOf(".");n+=a!==-1?a-1:o.length-1;var F=o.replace(".","").replace(/^0*/,function(p){return n-=p.length,""}).replace(/0*$/,"").split("").map(function(p){return parseInt(p)});return F.length===0&&(F.push(0),n++),{sign:t,coefficients:F,exponent:n}}function Hr(u,r){if(isNaN(u)||!isFinite(u))return String(u);var t=fu(u),o=cu(t,r),n=o.exponent,a=o.coefficients,F=n%3===0?n:n<0?n-3-n%3:n-n%3;if(x(r))for(;r>a.length||n-F+1>a.length;)a.push(0);else for(var p=Math.abs(n-F)-(a.length-1),l=0;l<p;l++)a.push(0);for(var A=Math.abs(n-F),D=1;A>0;)D++,A--;var s=a.slice(D).join(""),h=x(r)&&s.length||s.match(/[1-9]/)?"."+s:"",d=a.slice(0,D).join("")+h+"e"+(n>=0?"+":"")+F.toString();return o.sign+d}function Gr(u,r){if(isNaN(u)||!isFinite(u))return String(u);var t=fu(u),o=typeof r=="number"?cu(t,t.exponent+1+r):t,n=o.coefficients,a=o.exponent+1,F=a+(r||0);return n.length<F&&(n=n.concat(k(F-n.length))),a<0&&(n=k(-a+1).concat(n),a=1),a<n.length&&n.splice(a,0,a===0?"0.":"."),o.sign+n.join("")}function Gu(u,r){if(isNaN(u)||!isFinite(u))return String(u);var t=fu(u),o=r?cu(t,r):t,n=o.coefficients,a=o.exponent;n.length<r&&(n=n.concat(k(r-n.length)));var F=n.shift();return o.sign+F+(n.length>0?"."+n.join(""):"")+"e"+(a>=0?"+":"")+a}function Xr(u,r,t){if(isNaN(u)||!isFinite(u))return String(u);var o=bu(t==null?void 0:t.lowerExp,-3),n=bu(t==null?void 0:t.upperExp,5),a=fu(u),F=r?cu(a,r):a;if(F.exponent<o||F.exponent>=n)return Gu(u,r);var p=F.coefficients,l=F.exponent;p.length<r&&(p=p.concat(k(r-p.length))),p=p.concat(k(l-p.length+1+(p.length<r?r-p.length:0))),p=k(-l).concat(p);var A=l>0?l:0;return A<p.length-1&&p.splice(A+1,0,"."),F.sign+p.join("")}function cu(u,r){for(var t={sign:u.sign,coefficients:u.coefficients,exponent:u.exponent},o=t.coefficients;r<=0;)o.unshift(0),t.exponent++,r++;if(o.length>r){var n=o.splice(r,o.length-r);if(n[0]>=5){var a=r-1;for(o[a]++;o[a]===10;)o.pop(),a===0&&(o.unshift(0),t.exponent++,a++),a--,o[a]++}}return t}function k(u){for(var r=[],t=0;t<u;t++)r.push(0);return r}function Kr(u){return u.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Qr=Number.EPSILON||2220446049250313e-31;function ou(u,r,t){if(t==null)return u===r;if(u===r)return!0;if(isNaN(u)||isNaN(r))return!1;if(isFinite(u)&&isFinite(r)){var o=Math.abs(u-r);return o<=Qr?!0:o<=Math.max(Math.abs(u),Math.abs(r))*t}return!1}function Su(u,r){if(x(u))return u;if(Z(u))return u.toNumber();r()}function bu(u,r){return x(u)?u:Z(u)?u.toNumber():r}function lu(u,r,t){var o=u.constructor,n=new o(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!J(t))throw new Error("size must be an integer");if(u.greaterThan(n.pow(t-1).sub(1))||u.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!u.isInteger())throw new Error("Value must be an integer");u.lessThan(0)&&(u=u.add(n.pow(t))),a="i".concat(t)}switch(r){case 2:return"".concat(u.toBinary()).concat(a);case 8:return"".concat(u.toOctal()).concat(a);case 16:return"".concat(u.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(r," not supported "))}}function Yr(u,r){if(typeof r=="function")return r(u);if(!u.isFinite())return u.isNaN()?"NaN":u.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:o,wordSize:n}=Hu(r);switch(t){case"fixed":return kr(u,o);case"exponential":return Nu(u,o);case"engineering":return jr(u,o);case"bin":return lu(u,2,n);case"oct":return lu(u,8,n);case"hex":return lu(u,16,n);case"auto":{var a=Mu(r==null?void 0:r.lowerExp,-3),F=Mu(r==null?void 0:r.upperExp,5);if(u.isZero())return"0";var p,l=u.toSignificantDigits(o),A=l.e;return A>=a&&A<F?p=l.toFixed():p=Nu(u,o),p.replace(/((\.\d*?)(0+))($|e)/,function(){var D=arguments[2],s=arguments[4];return D!=="."?D+s:s})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function jr(u,r){var t=u.e,o=t%3===0?t:t<0?t-3-t%3:t-t%3,n=u.mul(Math.pow(10,-o)),a=n.toPrecision(r);if(a.indexOf("e")!==-1){var F=u.constructor;a=new F(a).toFixed()}return a+"e"+(t>=0?"+":"")+o.toString()}function Nu(u,r){return r!==void 0?u.toExponential(r-1):u.toExponential()}function kr(u,r){return u.toFixed(r)}function Mu(u,r){return x(u)?u:Z(u)?u.toNumber():r}function H(u,r){var t=ue(u,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function ue(u,r){if(typeof u=="number")return Au(u,r);if(Z(u))return Yr(u,r);if(re(u))return!r||r.fraction!=="decimal"?u.s*u.n+"/"+u.d:u.toString();if(Array.isArray(u))return Xu(u,r);if(G(u))return zu(u);if(typeof u=="function")return u.syntax?String(u.syntax):"function";if(u&&typeof u=="object"){if(typeof u.format=="function")return u.format(r);if(u&&u.toString(r)!=={}.toString())return u.toString(r);var t=Object.keys(u).map(o=>zu(o)+": "+H(u[o],r));return"{"+t.join(", ")+"}"}return String(u)}function zu(u){for(var r=String(u),t="",o=0;o<r.length;){var n=r.charAt(o);t+=n in Ou?Ou[n]:n,o++}return'"'+t+'"'}var Ou={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Xu(u,r){if(Array.isArray(u)){for(var t="[",o=u.length,n=0;n<o;n++)n!==0&&(t+=", "),t+=Xu(u[n],r);return t+="]",t}else return H(u,r)}function re(u){return u&&typeof u=="object"&&typeof u.s=="number"&&typeof u.n=="number"&&typeof u.d=="number"||!1}function O(u,r,t){if(!(this instanceof O))throw new SyntaxError("Constructor must be called with the new operator");this.actual=u,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(u)?"["+u.join(", ")+"]":u)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}O.prototype=new RangeError;O.prototype.constructor=RangeError;O.prototype.name="DimensionError";O.prototype.isDimensionError=!0;function Y(u,r,t){if(!(this instanceof Y))throw new SyntaxError("Constructor must be called with the new operator");this.index=u,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Y.prototype=new RangeError;Y.prototype.constructor=RangeError;Y.prototype.name="IndexError";Y.prototype.isIndexError=!0;function Q(u){for(var r=[];Array.isArray(u);)r.push(u.length),u=u[0];return r}function Ku(u,r,t){var o,n=u.length;if(n!==r[t])throw new O(n,r[t]);if(t<r.length-1){var a=t+1;for(o=0;o<n;o++){var F=u[o];if(!Array.isArray(F))throw new O(r.length-1,r.length,"<");Ku(u[o],r,a)}}else for(o=0;o<n;o++)if(Array.isArray(u[o]))throw new O(r.length+1,r.length,">")}function Tu(u,r){var t=r.length===0;if(t){if(Array.isArray(u))throw new O(u.length,0)}else Ku(u,r,0)}function P(u,r){if(u!==void 0){if(!x(u)||!J(u))throw new TypeError("Index must be an integer (value: "+u+")");if(u<0||typeof r=="number"&&u>=r)throw new Y(u,r)}}function xu(u,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(n){if(!x(n)||!J(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+H(r)+")")}),(x(u)||Z(u))&&(u=[u]);var o=t!==void 0?t:0;return Eu(u,r,0,o),u}function Eu(u,r,t,o){var n,a,F=u.length,p=r[t],l=Math.min(F,p);if(u.length=p,t<r.length-1){var A=t+1;for(n=0;n<l;n++)a=u[n],Array.isArray(a)||(a=[a],u[n]=a),Eu(a,r,A,o);for(n=l;n<p;n++)a=[],u[n]=a,Eu(a,r,A,o)}else{for(n=0;n<l;n++)for(;Array.isArray(u[n]);)u[n]=u[n][0];for(n=l;n<p;n++)u[n]=o}}function Qu(u,r){var t=te(u),o=t.length;if(!Array.isArray(u)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new O(0,o,"!=");r=gu(r,o);var n=Yu(r);if(o!==n)throw new O(n,o,"!=");try{return ee(t,r)}catch(a){throw a instanceof O?new O(n,o,"!="):a}}function gu(u,r){var t=Yu(u),o=u.slice(),n=-1,a=u.indexOf(n),F=u.indexOf(n,a+1)>=0;if(F)throw new Error("More than one wildcard in sizes");var p=a>=0,l=r%t===0;if(p)if(l)o[a]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return o}function Yu(u){return u.reduce((r,t)=>r*t,1)}function ee(u,r){for(var t=u,o,n=r.length-1;n>0;n--){var a=r[n];o=[];for(var F=t.length/a,p=0;p<F;p++)o.push(t.slice(p*a,(p+1)*a));t=o}return t}function ju(u,r,t,o){var n=o||Q(u);if(t)for(var a=0;a<t;a++)u=[u],n.unshift(1);for(u=ku(u,r,0);n.length<r;)n.push(1);return u}function ku(u,r,t){var o,n;if(Array.isArray(u)){var a=t+1;for(o=0,n=u.length;o<n;o++)u[o]=ku(u[o],r,a)}else for(var F=t;F<r;F++)u=[u];return u}function te(u){if(!Array.isArray(u))return u;var r=[];return u.forEach(function t(o){Array.isArray(o)?o.forEach(t):r.push(o)}),r}function au(u,r){for(var t,o=0,n=0;n<u.length;n++){var a=u[n],F=Array.isArray(a);if(n===0&&F&&(o=a.length),F&&a.length!==o)return;var p=F?au(a,r):r(a);if(t===void 0)t=p;else if(t!==p)return"mixed"}return t}function ur(u,r,t,o){if(o<t){if(u.length!==r.length)throw new O(u.length,r.length);for(var n=[],a=0;a<u.length;a++)n[a]=ur(u[a],r[a],t,o+1);return n}else return u.concat(r)}function rr(){var u=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(u.length===1)return u[0];if(u.length>1)return u.slice(1).reduce(function(t,o){return ur(t,o,r,0)},u[0]);throw new Error("Wrong number of arguments in function concat")}function ne(){for(var u=arguments.length,r=new Array(u),t=0;t<u;t++)r[t]=arguments[t];for(var o=r.map(h=>h.length),n=Math.max(...o),a=new Array(n).fill(null),F=0;F<r.length;F++)for(var p=r[F],l=o[F],A=0;A<l;A++){var D=n-l+A;p[A]>a[D]&&(a[D]=p[A])}for(var s=0;s<r.length;s++)Du(r[s],a);return a}function Du(u,r){for(var t=r.length,o=u.length,n=0;n<o;n++){var a=t-o+n;if(u[n]<r[a]&&u[n]>1||u[n]>r[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(u,") not possible to broadcast dimension ").concat(o," with size ").concat(u[n]," to size ").concat(r[a]))}}function Iu(u,r){var t=Q(u);if(uu(t,r))return u;Du(t,r);var o=ne(t,r),n=o.length,a=[...Array(n-t.length).fill(1),...t],F=oe(u);t.length<n&&(F=Qu(F,a),t=Q(F));for(var p=0;p<n;p++)t[p]<o[p]&&(F=ie(F,o[p],p),t=Q(F));return F}function ie(u,r,t){return rr(...Array(r).fill(u),t)}function oe(u){return Lu([],u)}function R(u,r,t,o){function n(a){var F=Wr(a,r.map(se));return ae(u,r,a),t(F)}return n.isFactory=!0,n.fn=u,n.dependencies=r.slice().sort(),o&&(n.meta=o),n}function ae(u,r,t){var o=r.filter(a=>!De(a)).every(a=>t[a]!==void 0);if(!o){var n=r.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(u,'", ')+"some dependencies are missing: ".concat(n.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function De(u){return u&&u[0]==="?"}function se(u){return u&&u[0]==="?"?u.slice(1):u}function fe(u,r){if(tr(u)&&er(u,r))return u[r];throw typeof u[r]=="function"&&le(u,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function ce(u,r,t){if(tr(u)&&er(u,r))return u[r]=t,t;throw new Error('No access to property "'+r+'"')}function Fe(u,r){return r in u}function er(u,r){return!u||typeof u!="object"?!1:eu(he,r)?!0:!(r in Object.prototype||r in Function.prototype)}function le(u,r){return u==null||typeof u[r]!="function"||eu(u,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(u)?!1:eu(pe,r)?!0:!(r in Object.prototype||r in Function.prototype)}function tr(u){return typeof u=="object"&&u&&u.constructor===Object}var he={length:!0,name:!0},pe={toString:!0,valueOf:!0,toLocaleString:!0};class Ae{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(r){return fe(this.wrappedObject,r)}set(r,t){return ce(this.wrappedObject,r,t),this}has(r){return Fe(this.wrappedObject,r)}entries(){return Ee(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function Ee(u,r){return{next:()=>{var t=u.next();return t.done?t:{value:r(t.value),done:!1}}}}function ve(u){return u?u instanceof Map||u instanceof Ae||typeof u.set=="function"&&typeof u.get=="function"&&typeof u.keys=="function"&&typeof u.has=="function":!1}var nr=function(){return nr=_u.create,_u},Ce=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],de=R("typed",Ce,function(r){var{BigNumber:t,Complex:o,DenseMatrix:n,Fraction:a}=r,F=nr();return F.clear(),F.addTypes([{name:"number",test:x},{name:"Complex",test:Wu},{name:"BigNumber",test:Z},{name:"Fraction",test:Zu},{name:"Unit",test:Vu},{name:"identifier",test:p=>G&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(p)},{name:"string",test:G},{name:"Chain",test:Ur},{name:"Array",test:$},{name:"Matrix",test:X},{name:"DenseMatrix",test:lr},{name:"SparseMatrix",test:hr},{name:"Range",test:pr},{name:"Index",test:vu},{name:"boolean",test:Ar},{name:"ResultSet",test:Er},{name:"Help",test:vr},{name:"function",test:Cr},{name:"Date",test:dr},{name:"RegExp",test:gr},{name:"null",test:Br},{name:"undefined",test:wr},{name:"AccessorNode",test:yr},{name:"ArrayNode",test:mr},{name:"AssignmentNode",test:_r},{name:"BlockNode",test:Sr},{name:"ConditionalNode",test:br},{name:"ConstantNode",test:Nr},{name:"FunctionNode",test:zr},{name:"FunctionAssignmentNode",test:Mr},{name:"IndexNode",test:Or},{name:"Node",test:Tr},{name:"ObjectNode",test:xr},{name:"OperatorNode",test:Ir},{name:"ParenthesisNode",test:$r},{name:"RangeNode",test:Pr},{name:"RelationalNode",test:Rr},{name:"SymbolNode",test:qr},{name:"Map",test:ve},{name:"Object",test:Cu}]),F.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||hu(l),Kr(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return o||nu(l),new o(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return o||nu(l),new o(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return o||nu(l),new o(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||pu(l);var A=new a(l);if(A.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return A}},{from:"string",to:"number",convert:function(l){var A=Number(l);if(isNaN(A))throw new Error('Cannot convert "'+l+'" to a number');return A}},{from:"string",to:"BigNumber",convert:function(l){t||hu(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){a||pu(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){o||nu(l);try{return new o(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||hu(l),new t(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||pu(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||ge(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),F.onMismatch=(p,l,A)=>{var D=F.createError(p,l,A);if(["wrongType","mismatch"].includes(D.data.category)&&l.length===1&&iu(l[0])&&A.some(h=>!h.params.includes(","))){var s=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw s.data=D.data,s}throw D},F.onMismatch=(p,l,A)=>{var D=F.createError(p,l,A);if(["wrongType","mismatch"].includes(D.data.category)&&l.length===1&&iu(l[0])&&A.some(h=>!h.params.includes(","))){var s=new TypeError("Function '".concat(p,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(p,")'."));throw s.data=D.data,s}throw D},F});function hu(u){throw new Error("Cannot convert value ".concat(u," into a BigNumber: no class 'BigNumber' provided"))}function nu(u){throw new Error("Cannot convert value ".concat(u," into a Complex number: no class 'Complex' provided"))}function ge(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function pu(u){throw new Error("Cannot convert value ".concat(u," into a Fraction, no class 'Fraction' provided."))}var Be="BigNumber",we=["?on","config"],ye=R(Be,we,u=>{var{on:r,config:t}=u,o=mu.clone({precision:t.precision,modulo:mu.EUCLID});return o.prototype=Object.create(o.prototype),o.prototype.type="BigNumber",o.prototype.isBigNumber=!0,o.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},o.fromJSON=function(n){return new o(n.value)},r&&r("config",function(n,a){n.precision!==a.precision&&o.config({precision:n.precision})}),o},{isClass:!0}),me="Complex",_e=[],Se=R(me,_e,()=>(Object.defineProperty(W,"name",{value:"Complex"}),W.prototype.constructor=W,W.prototype.type="Complex",W.prototype.isComplex=!0,W.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},W.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},W.prototype.format=function(u){var r="",t=this.im,o=this.re,n=Au(this.re,u),a=Au(this.im,u),F=x(u)?u:u?u.precision:null;if(F!==null){var p=Math.pow(10,-F);Math.abs(o/t)<p&&(o=0),Math.abs(t/o)<p&&(t=0)}return t===0?r=n:o===0?t===1?r="i":t===-1?r="-i":r=a+"i":t<0?t===-1?r=n+" - i":r=n+" - "+a.substring(1)+"i":t===1?r=n+" + i":r=n+" + "+a+"i",r},W.fromPolar=function(u){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return W(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],o=arguments[1];if(x(t)){if(Vu(o)&&o.hasBase("ANGLE")&&(o=o.toNumber("rad")),x(o))return new W({r:t,phi:o});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},W.prototype.valueOf=W.prototype.toString,W.fromJSON=function(u){return new W(u)},W.compare=function(u,r){return u.re>r.re?1:u.re<r.re?-1:u.im>r.im?1:u.im<r.im?-1:0},W),{isClass:!0}),be="Fraction",Ne=[],Me=R(be,Ne,()=>(Object.defineProperty(K,"name",{value:"Fraction"}),K.prototype.constructor=K,K.prototype.type="Fraction",K.prototype.isFraction=!0,K.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},K.fromJSON=function(u){return new K(u)},K),{isClass:!0}),ze="Matrix",Oe=[],Te=R(ze,Oe,()=>{function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator")}return u.prototype.type="Matrix",u.prototype.isMatrix=!0,u.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},u.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},u.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},u.prototype.subset=function(r,t,o){throw new Error("Cannot invoke subset on a Matrix interface")},u.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},u.prototype.set=function(r,t,o){throw new Error("Cannot invoke set on a Matrix interface")},u.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},u.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},u.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},u.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},u.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},u.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},u.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},u.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},u.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},u.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},u.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},u},{isClass:!0});function ir(u){return Object.keys(u.signatures||{}).reduce(function(r,t){var o=(t.match(/,/g)||[]).length+1;return Math.max(r,o)},-1)}var xe="DenseMatrix",Ie=["Matrix"],$e=R(xe,Ie,u=>{var{Matrix:r}=u;function t(D,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!G(s))throw new Error("Invalid datatype: "+s);if(X(D))D.type==="DenseMatrix"?(this._data=L(D._data),this._size=L(D._size),this._datatype=s||D._datatype):(this._data=D.toArray(),this._size=D.size(),this._datatype=s||D._datatype);else if(D&&$(D.data)&&$(D.size))this._data=D.data,this._size=D.size,Tu(this._data,this._size),this._datatype=s||D.datatype;else if($(D))this._data=A(D),this._size=Q(this._data),Tu(this._data,this._size),this._datatype=s;else{if(D)throw new TypeError("Unsupported type of data ("+ru(D)+")");this._data=[],this._size=[0],this._datatype=s}}t.prototype=new r,t.prototype.createDenseMatrix=function(D,s){return new t(D,s)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return au(this._data,ru)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(D,s){return new t(D,s)},t.prototype.subset=function(D,s,h){switch(arguments.length){case 1:return o(this,D);case 2:case 3:return a(this,D,s,h);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(D){if(!$(D))throw new TypeError("Array expected");if(D.length!==this._size.length)throw new O(D.length,this._size.length);for(var s=0;s<D.length;s++)P(D[s],this._size[s]);for(var h=this._data,d=0,B=D.length;d<B;d++){var e=D[d];P(e,h.length),h=h[e]}return h},t.prototype.set=function(D,s,h){if(!$(D))throw new TypeError("Array expected");if(D.length<this._size.length)throw new O(D.length,this._size.length,"<");var d,B,e,i=D.map(function(E){return E+1});l(this,i,h);var f=this._data;for(d=0,B=D.length-1;d<B;d++)e=D[d],P(e,f.length),f=f[e];return e=D[D.length-1],P(e,f.length),f[e]=s,this};function o(D,s){if(!vu(s))throw new TypeError("Invalid index");var h=s.isScalar();if(h)return D.get(s.min());var d=s.size();if(d.length!==D._size.length)throw new O(d.length,D._size.length);for(var B=s.min(),e=s.max(),i=0,f=D._size.length;i<f;i++)P(B[i],D._size[i]),P(e[i],D._size[i]);return new t(n(D._data,s,d.length,0),D._datatype)}function n(D,s,h,d){var B=d===h-1,e=s.dimension(d);return B?e.map(function(i){return P(i,D.length),D[i]}).valueOf():e.map(function(i){P(i,D.length);var f=D[i];return n(f,s,h,d+1)}).valueOf()}function a(D,s,h,d){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var B=s.size(),e=s.isScalar(),i;if(X(h)?(i=h.size(),h=h.valueOf()):i=Q(h),e){if(i.length!==0)throw new TypeError("Scalar expected");D.set(s.min(),h,d)}else{if(!uu(i,B))try{i.length===0?h=Iu([h],B):h=Iu(h,B),i=Q(h)}catch{}if(B.length<D._size.length)throw new O(B.length,D._size.length,"<");if(i.length<B.length){for(var f=0,E=0;B[f]===1&&i[f]===1;)f++;for(;B[f]===1;)E++,f++;h=ju(h,B.length,E,i)}if(!uu(B,i))throw new O(B,i,">");var c=s.max().map(function(y){return y+1});l(D,c,d);var C=B.length,w=0;F(D._data,s,h,C,w)}return D}function F(D,s,h,d,B){var e=B===d-1,i=s.dimension(B);e?i.forEach(function(f,E){P(f),D[f]=h[E[0]]}):i.forEach(function(f,E){P(f),F(D[f],s,h[E[0]],d,B+1)})}t.prototype.resize=function(D,s,h){if(!iu(D))throw new TypeError("Array or Matrix expected");var d=D.valueOf().map(e=>Array.isArray(e)&&e.length===1?e[0]:e),B=h?this.clone():this;return p(B,d,s)};function p(D,s,h){if(s.length===0){for(var d=D._data;$(d);)d=d[0];return d}return D._size=s.slice(0),D._data=xu(D._data,D._size,h),D}t.prototype.reshape=function(D,s){var h=s?this.clone():this;h._data=Qu(h._data,D);var d=h._size.reduce((B,e)=>B*e);return h._size=gu(D,d),h};function l(D,s,h){for(var d=D._size.slice(0),B=!1;d.length<s.length;)d.push(0),B=!0;for(var e=0,i=s.length;e<i;e++)s[e]>d[e]&&(d[e]=s[e],B=!0);B&&p(D,d,h)}t.prototype.clone=function(){var D=new t({data:L(this._data),size:L(this._size),datatype:this._datatype});return D},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(D){var s=this,h=ir(D),d=function i(f,E){return $(f)?f.map(function(c,C){return i(c,E.concat(C))}):h===1?D(f):h===2?D(f,E):D(f,E,s)},B=d(this._data,[]),e=this._datatype!==void 0?au(B,ru):void 0;return new t(B,e)},t.prototype.forEach=function(D){var s=this,h=function d(B,e){$(B)?B.forEach(function(i,f){d(i,e.concat(f))}):D(B,e,s)};h(this._data,[])},t.prototype[Symbol.iterator]=function*(){var D=function*s(h,d){if($(h))for(var B=0;B<h.length;B++)yield*s(h[B],d.concat(B));else yield{value:h,index:d}};yield*D(this._data,[])},t.prototype.rows=function(){var D=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var d of h)D.push(new t([d],this._datatype));return D},t.prototype.columns=function(){var D=this,s=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,B=function(f){var E=d.map(c=>[c[f]]);s.push(new t(E,D._datatype))},e=0;e<h[1];e++)B(e);return s},t.prototype.toArray=function(){return L(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(D){return H(this._data,D)},t.prototype.toString=function(){return H(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(D){if(D){if(Z(D)&&(D=D.toNumber()),!x(D)||!J(D))throw new TypeError("The parameter k must be an integer number")}else D=0;for(var s=D>0?D:0,h=D<0?-D:0,d=this._size[0],B=this._size[1],e=Math.min(d-h,B-s),i=[],f=0;f<e;f++)i[f]=this._data[f+h][f+s];return new t({data:i,size:[e],datatype:this._datatype})},t.diagonal=function(D,s,h,d){if(!$(D))throw new TypeError("Array expected, size parameter");if(D.length!==2)throw new Error("Only two dimensions matrix are supported");if(D=D.map(function(g){if(Z(g)&&(g=g.toNumber()),!x(g)||!J(g)||g<1)throw new Error("Size values must be positive integers");return g}),h){if(Z(h)&&(h=h.toNumber()),!x(h)||!J(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var B=h>0?h:0,e=h<0?-h:0,i=D[0],f=D[1],E=Math.min(i-e,f-B),c;if($(s)){if(s.length!==E)throw new Error("Invalid value array length");c=function(v){return s[v]}}else if(X(s)){var C=s.size();if(C.length!==1||C[0]!==E)throw new Error("Invalid matrix length");c=function(v){return s.get([v])}}else c=function(){return s};d||(d=Z(c(0))?c(0).mul(0):0);var w=[];if(D.length>0){w=xu(w,D,d);for(var y=0;y<E;y++)w[y+e][y+B]=c(y)}return new t({data:w,size:[i,f]})},t.fromJSON=function(D){return new t(D)},t.prototype.swapRows=function(D,s){if(!x(D)||!J(D)||!x(s)||!J(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return P(D,this._size[0]),P(s,this._size[0]),t._swapRows(D,s,this._data),this},t._swapRows=function(D,s,h){var d=h[D];h[D]=h[s],h[s]=d};function A(D){return X(D)?A(D.valueOf()):$(D)?D.map(A):D}return t},{isClass:!0});function or(u,r,t){return u&&typeof u.map=="function"?u.map(function(o){return or(o,r)}):r(u)}var $u="isInteger",Pe=["typed"],Re=R($u,Pe,u=>{var{typed:r}=u;return r($u,{number:J,BigNumber:function(o){return o.isInt()},Fraction:function(o){return o.d===1&&isFinite(o.n)},"Array | Matrix":r.referToSelf(t=>o=>or(o,t))})}),qe="number, number";function ar(u,r){return u+r}ar.signature=qe;function Ue(u,r,t){if(t==null)return u.eq(r);if(u.eq(r))return!0;if(u.isNaN()||r.isNaN())return!1;if(u.isFinite()&&r.isFinite()){var o=u.minus(r).abs();if(o.isZero())return!0;var n=u.constructor.max(u.abs(),r.abs());return o.lte(n.times(t))}return!1}function Le(u,r,t){return ou(u.re,r.re,t)&&ou(u.im,r.im,t)}var Je=R("compareUnits",["typed"],u=>{var{typed:r}=u;return{"Unit, Unit":r.referToSelf(t=>(o,n)=>{if(!o.equalBase(n))throw new Error("Cannot compare units with different base");return r.find(t,[o.valueType(),n.valueType()])(o.value,n.value)})}}),su="equalScalar",We=["typed","config"],Ze=R(su,We,u=>{var{typed:r,config:t}=u,o=Je({typed:r});return r(su,{"boolean, boolean":function(a,F){return a===F},"number, number":function(a,F){return ou(a,F,t.epsilon)},"BigNumber, BigNumber":function(a,F){return a.eq(F)||Ue(a,F,t.epsilon)},"Fraction, Fraction":function(a,F){return a.equals(F)},"Complex, Complex":function(a,F){return Le(a,F,t.epsilon)}},o)});R(su,["typed","config"],u=>{var{typed:r,config:t}=u;return r(su,{"number, number":function(n,a){return ou(n,a,t.epsilon)}})});var Ve="SparseMatrix",He=["typed","equalScalar","Matrix"],Ge=R(Ve,He,u=>{var{typed:r,equalScalar:t,Matrix:o}=u;function n(e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(i&&!G(i))throw new Error("Invalid datatype: "+i);if(X(e))a(this,e,i);else if(e&&$(e.index)&&$(e.ptr)&&$(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=i||e.datatype;else if($(e))F(this,e,i);else{if(e)throw new TypeError("Unsupported type of data ("+ru(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=i}}function a(e,i,f){i.type==="SparseMatrix"?(e._values=i._values?L(i._values):void 0,e._index=L(i._index),e._ptr=L(i._ptr),e._size=L(i._size),e._datatype=f||i._datatype):F(e,i.valueOf(),f||i._datatype)}function F(e,i,f){e._values=[],e._index=[],e._ptr=[],e._datatype=f;var E=i.length,c=0,C=t,w=0;if(G(f)&&(C=r.find(t,[f,f])||t,w=r.convert(0,f)),E>0){var y=0;do{e._ptr.push(e._index.length);for(var g=0;g<E;g++){var v=i[g];if($(v)){if(y===0&&c<v.length&&(c=v.length),y<v.length){var m=v[y];C(m,w)||(e._values.push(m),e._index.push(g))}}else y===0&&c<1&&(c=1),C(v,w)||(e._values.push(v),e._index.push(g))}y++}while(y<c)}e._ptr.push(e._index.length),e._size=[E,c]}n.prototype=new o,n.prototype.createSparseMatrix=function(e,i){return new n(e,i)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return au(this._values,ru)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,i){return new n(e,i)},n.prototype.density=function(){var e=this._size[0],i=this._size[1];return e!==0&&i!==0?this._index.length/(e*i):0},n.prototype.subset=function(e,i,f){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return p(this,e);case 2:case 3:return l(this,e,i,f);default:throw new SyntaxError("Wrong number of arguments")}};function p(e,i){if(!vu(i))throw new TypeError("Invalid index");var f=i.isScalar();if(f)return e.get(i.min());var E=i.size();if(E.length!==e._size.length)throw new O(E.length,e._size.length);var c,C,w,y,g=i.min(),v=i.max();for(c=0,C=e._size.length;c<C;c++)P(g[c],e._size[c]),P(v[c],e._size[c]);var m=e._values,_=e._index,S=e._ptr,b=i.dimension(0),I=i.dimension(1),N=[],T=[];b.forEach(function(z,V){T[z]=V[0],N[z]=!0});var M=m?[]:void 0,q=[],U=[];return I.forEach(function(z){for(U.push(q.length),w=S[z],y=S[z+1];w<y;w++)c=_[w],N[c]===!0&&(q.push(T[c]),M&&M.push(m[w]))}),U.push(q.length),new n({values:M,index:q,ptr:U,size:E,datatype:e._datatype})}function l(e,i,f,E){if(!i||i.isIndex!==!0)throw new TypeError("Invalid index");var c=i.size(),C=i.isScalar(),w;if(X(f)?(w=f.size(),f=f.toArray()):w=Q(f),C){if(w.length!==0)throw new TypeError("Scalar expected");e.set(i.min(),f,E)}else{if(c.length!==1&&c.length!==2)throw new O(c.length,e._size.length,"<");if(w.length<c.length){for(var y=0,g=0;c[y]===1&&w[y]===1;)y++;for(;c[y]===1;)g++,y++;f=ju(f,c.length,g,w)}if(!uu(c,w))throw new O(c,w,">");if(c.length===1){var v=i.dimension(0);v.forEach(function(S,b){P(S),e.set([S,0],f[b[0]],E)})}else{var m=i.dimension(0),_=i.dimension(1);m.forEach(function(S,b){P(S),_.forEach(function(I,N){P(I),e.set([S,I],f[b[0]][N[0]],E)})})}}return e}n.prototype.get=function(e){if(!$(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new O(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var i=e[0],f=e[1];P(i,this._size[0]),P(f,this._size[1]);var E=A(i,this._ptr[f],this._ptr[f+1],this._index);return E<this._ptr[f+1]&&this._index[E]===i?this._values[E]:0},n.prototype.set=function(e,i,f){if(!$(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new O(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=e[0],c=e[1],C=this._size[0],w=this._size[1],y=t,g=0;G(this._datatype)&&(y=r.find(t,[this._datatype,this._datatype])||t,g=r.convert(0,this._datatype)),(E>C-1||c>w-1)&&(h(this,Math.max(E+1,C),Math.max(c+1,w),f),C=this._size[0],w=this._size[1]),P(E,C),P(c,w);var v=A(E,this._ptr[c],this._ptr[c+1],this._index);return v<this._ptr[c+1]&&this._index[v]===E?y(i,g)?D(v,c,this._values,this._index,this._ptr):this._values[v]=i:y(i,g)||s(v,E,c,i,this._values,this._index,this._ptr),this};function A(e,i,f,E){if(f-i===0)return f;for(var c=i;c<f;c++)if(E[c]===e)return c;return i}function D(e,i,f,E,c){f.splice(e,1),E.splice(e,1);for(var C=i+1;C<c.length;C++)c[C]--}function s(e,i,f,E,c,C,w){c.splice(e,0,E),C.splice(e,0,i);for(var y=f+1;y<w.length;y++)w[y]++}n.prototype.resize=function(e,i,f){if(!iu(e))throw new TypeError("Array or Matrix expected");var E=e.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(C){if(!x(C)||!J(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+H(E)+")")});var c=f?this.clone():this;return h(c,E[0],E[1],i)};function h(e,i,f,E){var c=E||0,C=t,w=0;G(e._datatype)&&(C=r.find(t,[e._datatype,e._datatype])||t,w=r.convert(0,e._datatype),c=r.convert(c,e._datatype));var y=!C(c,w),g=e._size[0],v=e._size[1],m,_,S;if(f>v){for(_=v;_<f;_++)if(e._ptr[_]=e._values.length,y)for(m=0;m<g;m++)e._values.push(c),e._index.push(m);e._ptr[f]=e._values.length}else f<v&&(e._ptr.splice(f+1,v-f),e._values.splice(e._ptr[f],e._values.length),e._index.splice(e._ptr[f],e._index.length));if(v=f,i>g){if(y){var b=0;for(_=0;_<v;_++){e._ptr[_]=e._ptr[_]+b,S=e._ptr[_+1]+b;var I=0;for(m=g;m<i;m++,I++)e._values.splice(S+I,0,c),e._index.splice(S+I,0,m),b++}e._ptr[v]=e._values.length}}else if(i<g){var N=0;for(_=0;_<v;_++){e._ptr[_]=e._ptr[_]-N;var T=e._ptr[_],M=e._ptr[_+1]-N;for(S=T;S<M;S++)m=e._index[S],m>i-1&&(e._values.splice(S,1),e._index.splice(S,1),N++)}e._ptr[_]=e._values.length}return e._size[0]=i,e._size[1]=f,e}n.prototype.reshape=function(e,i){if(!$(e))throw new TypeError("Array expected");if(e.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(z){if(!x(z)||!J(z)||z<=-2||z===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+H(e)+")")});var f=this._size[0]*this._size[1];e=gu(e,f);var E=e[0]*e[1];if(f!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var c=i?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return c;for(var C=[],w=0;w<c._ptr.length;w++)for(var y=0;y<c._ptr[w+1]-c._ptr[w];y++)C.push(w);for(var g=c._values.slice(),v=c._index.slice(),m=0;m<c._index.length;m++){var _=v[m],S=C[m],b=_*c._size[1]+S;C[m]=b%e[1],v[m]=Math.floor(b/e[1])}c._values.length=0,c._index.length=0,c._ptr.length=e[1]+1,c._size=e.slice();for(var I=0;I<c._ptr.length;I++)c._ptr[I]=0;for(var N=0;N<g.length;N++){var T=v[N],M=C[N],q=g[N],U=A(T,c._ptr[M],c._ptr[M+1],c._index);s(U,T,M,q,c._values,c._index,c._ptr)}return c},n.prototype.clone=function(){var e=new n({values:this._values?L(this._values):void 0,index:L(this._index),ptr:L(this._ptr),size:L(this._size),datatype:this._datatype});return e},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var f=this,E=this._size[0],c=this._size[1],C=ir(e),w=function(g,v,m){return C===1?e(g):C===2?e(g,[v,m]):e(g,[v,m],f)};return d(this,0,E-1,0,c-1,w,i)};function d(e,i,f,E,c,C,w){var y=[],g=[],v=[],m=t,_=0;G(e._datatype)&&(m=r.find(t,[e._datatype,e._datatype])||t,_=r.convert(0,e._datatype));for(var S=function(tu,yu,Fr){tu=C(tu,yu,Fr),m(tu,_)||(y.push(tu),g.push(yu))},b=E;b<=c;b++){v.push(y.length);var I=e._ptr[b],N=e._ptr[b+1];if(w)for(var T=I;T<N;T++){var M=e._index[T];M>=i&&M<=f&&S(e._values[T],M-i,b-E)}else{for(var q={},U=I;U<N;U++){var z=e._index[U];q[z]=e._values[U]}for(var V=i;V<=f;V++){var cr=V in q?q[V]:0;S(cr,V-i,b-E)}}}return v.push(y.length),new n({values:y,index:g,ptr:v,size:[f-i+1,c-E+1]})}n.prototype.forEach=function(e,i){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var f=this,E=this._size[0],c=this._size[1],C=0;C<c;C++){var w=this._ptr[C],y=this._ptr[C+1];if(i)for(var g=w;g<y;g++){var v=this._index[g];e(this._values[g],[v,C],f)}else{for(var m={},_=w;_<y;_++){var S=this._index[_];m[S]=this._values[_]}for(var b=0;b<E;b++){var I=b in m?m[b]:0;e(I,[b,C],f)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],i=0;i<e;i++)for(var f=this._ptr[i],E=this._ptr[i+1],c=f;c<E;c++){var C=this._index[c];yield{value:this._values[c],index:[C,i]}}},n.prototype.toArray=function(){return B(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return B(this._values,this._index,this._ptr,this._size,!1)};function B(e,i,f,E,c){var C=E[0],w=E[1],y=[],g,v;for(g=0;g<C;g++)for(y[g]=[],v=0;v<w;v++)y[g][v]=0;for(v=0;v<w;v++)for(var m=f[v],_=f[v+1],S=m;S<_;S++)g=i[S],y[g][v]=e?c?L(e[S]):e[S]:1;return y}return n.prototype.format=function(e){for(var i=this._size[0],f=this._size[1],E=this.density(),c="Sparse Matrix ["+H(i,e)+" x "+H(f,e)+"] density: "+H(E,e)+`
`,C=0;C<f;C++)for(var w=this._ptr[C],y=this._ptr[C+1],g=w;g<y;g++){var v=this._index[g];c+=`
    (`+H(v,e)+", "+H(C,e)+") ==> "+(this._values?H(this._values[g],e):"X")}return c},n.prototype.toString=function(){return H(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(Z(e)&&(e=e.toNumber()),!x(e)||!J(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var i=e>0?e:0,f=e<0?-e:0,E=this._size[0],c=this._size[1],C=Math.min(E-f,c-i),w=[],y=[],g=[];g[0]=0;for(var v=i;v<c&&w.length<C;v++)for(var m=this._ptr[v],_=this._ptr[v+1],S=m;S<_;S++){var b=this._index[S];if(b===v-i+f){w.push(this._values[S]),y[w.length-1]=b-f;break}}return g.push(w.length),new n({values:w,index:y,ptr:g,size:[C,1]})},n.fromJSON=function(e){return new n(e)},n.diagonal=function(e,i,f,E,c){if(!$(e))throw new TypeError("Array expected, size parameter");if(e.length!==2)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(z){if(Z(z)&&(z=z.toNumber()),!x(z)||!J(z)||z<1)throw new Error("Size values must be positive integers");return z}),f){if(Z(f)&&(f=f.toNumber()),!x(f)||!J(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var C=t,w=0;G(c)&&(C=r.find(t,[c,c])||t,w=r.convert(0,c));var y=f>0?f:0,g=f<0?-f:0,v=e[0],m=e[1],_=Math.min(v-g,m-y),S;if($(i)){if(i.length!==_)throw new Error("Invalid value array length");S=function(V){return i[V]}}else if(X(i)){var b=i.size();if(b.length!==1||b[0]!==_)throw new Error("Invalid matrix length");S=function(V){return i.get([V])}}else S=function(){return i};for(var I=[],N=[],T=[],M=0;M<m;M++){T.push(I.length);var q=M-y;if(q>=0&&q<_){var U=S(q);C(U,w)||(N.push(q+g),I.push(U))}}return T.push(I.length),new n({values:I,index:N,ptr:T,size:[v,m]})},n.prototype.swapRows=function(e,i){if(!x(e)||!J(e)||!x(i)||!J(i))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return P(e,this._size[0]),P(i,this._size[0]),n._swapRows(e,i,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(e,i,f,E,c){for(var C=E[e],w=E[e+1],y=C;y<w;y++)c(f[y],i[y])},n._swapRows=function(e,i,f,E,c,C){for(var w=0;w<f;w++){var y=C[w],g=C[w+1],v=A(e,y,g,c),m=A(i,y,g,c);if(v<g&&m<g&&c[v]===e&&c[m]===i){if(E){var _=E[v];E[v]=E[m],E[m]=_}continue}if(v<g&&c[v]===e&&(m>=g||c[m]!==i)){var S=E?E[v]:void 0;c.splice(m,0,i),E&&E.splice(m,0,S),c.splice(m<=v?v+1:v,1),E&&E.splice(m<=v?v+1:v,1);continue}if(m<g&&c[m]===i&&(v>=g||c[v]!==e)){var b=E?E[m]:void 0;c.splice(v,0,e),E&&E.splice(v,0,b),c.splice(v<=m?m+1:m,1),E&&E.splice(v<=m?m+1:m,1)}}},n},{isClass:!0}),Pu="matrix",Xe=["typed","Matrix","DenseMatrix","SparseMatrix"],Ke=R(Pu,Xe,u=>{var{typed:r,Matrix:t,DenseMatrix:o,SparseMatrix:n}=u;return r(Pu,{"":function(){return a([])},string:function(p){return a([],p)},"string, string":function(p,l){return a([],p,l)},Array:function(p){return a(p)},Matrix:function(p){return a(p,p.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(F,p,l){if(p==="dense"||p==="default"||p===void 0)return new o(F,l);if(p==="sparse")return new n(F,l);throw new TypeError("Unknown matrix type "+JSON.stringify(p)+".")}}),Ru="addScalar",Qe=["typed"],Ye=R(Ru,Qe,u=>{var{typed:r}=u;return r(Ru,{"number, number":ar,"Complex, Complex":function(o,n){return o.add(n)},"BigNumber, BigNumber":function(o,n){return o.plus(n)},"Fraction, Fraction":function(o,n){return o.add(n)},"Unit, Unit":r.referToSelf(t=>(o,n)=>{if(o.value===null||o.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!o.equalBase(n))throw new Error("Units do not match");var a=o.clone();return a.value=r.find(t,[a.valueType(),n.valueType()])(a.value,n.value),a.fixPrefix=!1,a})})}),je="matAlgo14xDs",ke=["typed"],ut=R(je,ke,u=>{var{typed:r}=u;return function(n,a,F,p){var l=n._data,A=n._size,D=n._datatype,s,h=F;typeof D=="string"&&(s=D,a=r.convert(a,s),h=r.find(F,[s,s]));var d=A.length>0?t(h,0,A,A[0],l,a,p):[];return n.createDenseMatrix({data:d,size:L(A),datatype:s})};function t(o,n,a,F,p,l,A){var D=[];if(n===a.length-1)for(var s=0;s<F;s++)D[s]=A?o(l,p[s]):o(p[s],l);else for(var h=0;h<F;h++)D[h]=t(o,n+1,a,a[n+1],p[h],l,A);return D}}),rt="matAlgo13xDD",et=["typed"],tt=R(rt,et,u=>{var{typed:r}=u;return function(n,a,F){var p=n._data,l=n._size,A=n._datatype,D=a._data,s=a._size,h=a._datatype,d=[];if(l.length!==s.length)throw new O(l.length,s.length);for(var B=0;B<l.length;B++){if(l[B]!==s[B])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+s+")");d[B]=l[B]}var e,i=F;typeof A=="string"&&A===h&&(e=A,i=r.find(F,[e,e]));var f=d.length>0?t(i,0,d,d[0],p,D):[];return n.createDenseMatrix({data:f,size:d,datatype:e})};function t(o,n,a,F,p,l){var A=[];if(n===a.length-1)for(var D=0;D<F;D++)A[D]=o(p[D],l[D]);else for(var s=0;s<F;s++)A[s]=t(o,n+1,a,a[n+1],p[s],l[s]);return A}}),nt="broadcast",it=["concat"],ot=R(nt,it,u=>{var{concat:r}=u;return function(n,a){var F=Math.max(n._size.length,a._size.length);if(n._size.length===a._size.length&&n._size.every((B,e)=>B===a._size[e]))return[n,a];for(var p=t(n._size,F,0),l=t(a._size,F,0),A=[],D=0;D<F;D++)A[D]=Math.max(p[D],l[D]);Du(p,A),Du(l,A);var s=n.clone(),h=a.clone();s._size.length<F?s.reshape(t(s._size,F,1)):h._size.length<F&&h.reshape(t(h._size,F,1));for(var d=0;d<F;d++)s._size[d]<A[d]&&(s=o(s,A[d],d)),h._size[d]<A[d]&&(h=o(h,A[d],d));return[s,h]};function t(n,a,F){return[...Array(a-n.length).fill(F),...n]}function o(n,a,F){return r(...Array(a).fill(n),F)}}),at="matrixAlgorithmSuite",Dt=["typed","matrix","concat"],st=R(at,Dt,u=>{var{typed:r,matrix:t,concat:o}=u,n=tt({typed:r}),a=ut({typed:r}),F=ot({concat:o});return function(l){var A=l.elop,D=l.SD||l.DS,s;A?(s={"DenseMatrix, DenseMatrix":(e,i)=>n(...F(e,i),A),"Array, Array":(e,i)=>n(...F(t(e),t(i)),A).valueOf(),"Array, DenseMatrix":(e,i)=>n(...F(t(e),i),A),"DenseMatrix, Array":(e,i)=>n(...F(e,t(i)),A)},l.SS&&(s["SparseMatrix, SparseMatrix"]=(e,i)=>l.SS(...F(e,i),A,!1)),l.DS&&(s["DenseMatrix, SparseMatrix"]=(e,i)=>l.DS(...F(e,i),A,!1),s["Array, SparseMatrix"]=(e,i)=>l.DS(...F(t(e),i),A,!1)),D&&(s["SparseMatrix, DenseMatrix"]=(e,i)=>D(...F(i,e),A,!0),s["SparseMatrix, Array"]=(e,i)=>D(...F(t(i),e),A,!0))):(s={"DenseMatrix, DenseMatrix":r.referToSelf(e=>(i,f)=>n(...F(i,f),e)),"Array, Array":r.referToSelf(e=>(i,f)=>n(...F(t(i),t(f)),e).valueOf()),"Array, DenseMatrix":r.referToSelf(e=>(i,f)=>n(...F(t(i),f),e)),"DenseMatrix, Array":r.referToSelf(e=>(i,f)=>n(...F(i,t(f)),e))},l.SS&&(s["SparseMatrix, SparseMatrix"]=r.referToSelf(e=>(i,f)=>l.SS(...F(i,f),e,!1))),l.DS&&(s["DenseMatrix, SparseMatrix"]=r.referToSelf(e=>(i,f)=>l.DS(...F(i,f),e,!1)),s["Array, SparseMatrix"]=r.referToSelf(e=>(i,f)=>l.DS(...F(t(i),f),e,!1))),D&&(s["SparseMatrix, DenseMatrix"]=r.referToSelf(e=>(i,f)=>D(...F(f,i),e,!0)),s["SparseMatrix, Array"]=r.referToSelf(e=>(i,f)=>D(...F(t(f),i),e,!0))));var h=l.scalar||"any",d=l.Ds||l.Ss;d&&(A?(s["DenseMatrix,"+h]=(e,i)=>a(e,i,A,!1),s[h+", DenseMatrix"]=(e,i)=>a(i,e,A,!0),s["Array,"+h]=(e,i)=>a(t(e),i,A,!1).valueOf(),s[h+", Array"]=(e,i)=>a(t(i),e,A,!0).valueOf()):(s["DenseMatrix,"+h]=r.referToSelf(e=>(i,f)=>a(i,f,e,!1)),s[h+", DenseMatrix"]=r.referToSelf(e=>(i,f)=>a(f,i,e,!0)),s["Array,"+h]=r.referToSelf(e=>(i,f)=>a(t(i),f,e,!1).valueOf()),s[h+", Array"]=r.referToSelf(e=>(i,f)=>a(t(f),i,e,!0).valueOf())));var B=l.sS!==void 0?l.sS:l.Ss;return A?(l.Ss&&(s["SparseMatrix,"+h]=(e,i)=>l.Ss(e,i,A,!1)),B&&(s[h+", SparseMatrix"]=(e,i)=>B(i,e,A,!0))):(l.Ss&&(s["SparseMatrix,"+h]=r.referToSelf(e=>(i,f)=>l.Ss(i,f,e,!1))),B&&(s[h+", SparseMatrix"]=r.referToSelf(e=>(i,f)=>B(f,i,e,!0)))),A&&A.signatures&&Jr(s,A.signatures),s}}),ft="matAlgo01xDSid",ct=["typed"],Ft=R(ft,ct,u=>{var{typed:r}=u;return function(o,n,a,F){var p=o._data,l=o._size,A=o._datatype||o.getDataType(),D=n._values,s=n._index,h=n._ptr,d=n._size,B=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==d.length)throw new O(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var e=l[0],i=l[1],f=typeof A=="string"&&A!=="mixed"&&A===B?A:void 0,E=f?r.find(a,[f,f]):a,c,C,w=[];for(c=0;c<e;c++)w[c]=[];var y=[],g=[];for(C=0;C<i;C++){for(var v=C+1,m=h[C],_=h[C+1],S=m;S<_;S++)c=s[S],y[c]=F?E(D[S],p[c][C]):E(p[c][C],D[S]),g[c]=v;for(c=0;c<e;c++)g[c]===v?w[c][C]=y[c]:w[c][C]=p[c][C]}return o.createDenseMatrix({data:w,size:[e,i],datatype:A===o._datatype&&B===n._datatype?f:void 0})}}),lt="matAlgo04xSidSid",ht=["typed","equalScalar"],pt=R(lt,ht,u=>{var{typed:r,equalScalar:t}=u;return function(n,a,F){var p=n._values,l=n._index,A=n._ptr,D=n._size,s=n._datatype||n._data===void 0?n._datatype:n.getDataType(),h=a._values,d=a._index,B=a._ptr,e=a._size,i=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(D.length!==e.length)throw new O(D.length,e.length);if(D[0]!==e[0]||D[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+e+")");var f=D[0],E=D[1],c,C=t,w=0,y=F;typeof s=="string"&&s===i&&s!=="mixed"&&(c=s,C=r.find(t,[c,c]),w=r.convert(0,c),y=r.find(F,[c,c]));var g=p&&h?[]:void 0,v=[],m=[],_=p&&h?[]:void 0,S=p&&h?[]:void 0,b=[],I=[],N,T,M,q,U;for(T=0;T<E;T++){m[T]=v.length;var z=T+1;for(q=A[T],U=A[T+1],M=q;M<U;M++)N=l[M],v.push(N),b[N]=z,_&&(_[N]=p[M]);for(q=B[T],U=B[T+1],M=q;M<U;M++)if(N=d[M],b[N]===z){if(_){var V=y(_[N],h[M]);C(V,w)?b[N]=null:_[N]=V}}else v.push(N),I[N]=z,S&&(S[N]=h[M]);if(_&&S)for(M=m[T];M<v.length;)N=v[M],b[N]===z?(g[M]=_[N],M++):I[N]===z?(g[M]=S[N],M++):v.splice(M,1)}return m[E]=v.length,n.createSparseMatrix({values:g,index:v,ptr:m,size:[f,E],datatype:s===n._datatype&&i===a._datatype?c:void 0})}}),At="matAlgo10xSids",Et=["typed","DenseMatrix"],vt=R(At,Et,u=>{var{typed:r,DenseMatrix:t}=u;return function(n,a,F,p){var l=n._values,A=n._index,D=n._ptr,s=n._size,h=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=s[0],B=s[1],e,i=F;typeof h=="string"&&(e=h,a=r.convert(a,e),i=r.find(F,[e,e]));for(var f=[],E=[],c=[],C=0;C<B;C++){for(var w=C+1,y=D[C],g=D[C+1],v=y;v<g;v++){var m=A[v];E[m]=l[v],c[m]=w}for(var _=0;_<d;_++)C===0&&(f[_]=[]),c[_]===w?f[_][C]=p?i(a,E[_]):i(E[_],a):f[_][C]=a}return new t({data:f,size:[d,B],datatype:e})}}),qu="concat",Ct=["typed","matrix","isInteger"],dt=R(qu,Ct,u=>{var{typed:r,matrix:t,isInteger:o}=u;return r(qu,{"...Array | Matrix | number | BigNumber":function(a){var F,p=a.length,l=-1,A,D=!1,s=[];for(F=0;F<p;F++){var h=a[F];if(X(h)&&(D=!0),x(h)||Z(h)){if(F!==p-1)throw new Error("Dimension must be specified as last argument");if(A=l,l=h.valueOf(),!o(l))throw new TypeError("Integer number expected for dimension");if(l<0||F>0&&l>A)throw new Y(l,A+1)}else{var d=L(h).valueOf(),B=Q(d);if(s[F]=d,A=l,l=B.length-1,F>0&&l!==A)throw new O(A+1,l+1)}}if(s.length===0)throw new SyntaxError("At least one matrix expected");for(var e=s.shift();s.length;)e=rr(e,s.shift(),l);return D?t(e):e},"...string":function(a){return a.join("")}})}),Uu="add",gt=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Bt=R(Uu,gt,u=>{var{typed:r,matrix:t,addScalar:o,equalScalar:n,DenseMatrix:a,SparseMatrix:F,concat:p}=u,l=Ft({typed:r}),A=pt({typed:r,equalScalar:n}),D=vt({typed:r,DenseMatrix:a}),s=st({typed:r,matrix:t,concat:p});return r(Uu,{"any, any":o,"any, any, ...any":r.referToSelf(h=>(d,B,e)=>{for(var i=h(d,B),f=0;f<e.length;f++)i=h(i,e[f]);return i})},s({elop:o,DS:l,SS:A,Ss:D}))}),wt=ye({config:du}),yt=Se({}),mt=Me({}),Bu=Te({}),wu=$e({Matrix:Bu}),j=de({BigNumber:wt,Complex:yt,DenseMatrix:wu,Fraction:mt}),_t=Ye({typed:j}),Dr=Ze({config:du,typed:j}),St=Re({typed:j}),sr=Ge({Matrix:Bu,equalScalar:Dr,typed:j}),fr=Ke({DenseMatrix:wu,Matrix:Bu,SparseMatrix:sr,typed:j}),bt=dt({isInteger:St,matrix:fr,typed:j}),It=Bt({DenseMatrix:wu,SparseMatrix:sr,addScalar:_t,concat:bt,equalScalar:Dr,matrix:fr,typed:j});export{It as a};
