var Ae=Object.defineProperty;var Me=(e,t,o)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var B=(e,t,o)=>(Me(e,typeof t!="symbol"?t+"":t,o),o);import{m as S,c as q,q as p,t as O,v as i,x as ve,y as he,z as J,r as h,A,k,B as M,C as Oe,D as Z,E as Be,G as v,u as y,F as _e,H as G,I as P,J as Le,l as Se,K as Te,L as le,M as De,N as $e,O as Pe}from"./@vue.aa17ec7c.js";import{u as Re,a as ge,c as Ne,b as Ue}from"./vue-router.835b731e.js";import{D as Ve,l as ye}from"./dexie.a92c4e2b.js";import{v as X}from"./uuid.fbc3d34b.js";import{d as j}from"./dayjs.8eec1a0d.js";import{u as je}from"./@vueuse.9aab9800.js";import{c as ze}from"./vue-i18n.bcf46dc7.js";import"./@intlify.03657722.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const Fe={class:"popup-view fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-1"},qe=["onClick"],Je=S({__name:"PopupRouterView",props:{closeOnModal:{type:Boolean},bodyClass:null},setup(e){const t=e,o=Re(),s=q(()=>o.matched[o.matched.length-2].path===o.path),n=ge(),r=()=>{t.closeOnModal&&s.value&&n.back()};return(l,a)=>(p(),O("div",Fe,[i("div",{class:"popup-view-modal absolute w-[200%] h-[200%] bg-black opacity-50",onClick:ve(r,["stop"])},null,8,qe),i("div",{class:J(["popup-view-body z-1 w-screen h-screen sm:max-w-[550px] sm:max-h-[550px] sm:min-w-[400px] sm:min-h-[400px] sm:w-[60%] sm:h-[50%] sm:top-auto sm:left-auto sm:rounded-lg bg-[white]",e.bodyClass])},[he(l.$slots,"default",{},void 0,!0)],2)]))}});const ee=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o},We=ee(Je,[["__scopeId","data-v-40900691"]]),Ye=(()=>{let e=0;return()=>e+=1})();var R=(e=>(e.Success="success",e.Error="error",e.Warning="warning",e))(R||{});const U=h([]),ae=3e3,He=()=>({messageList:U}),Ge=e=>{var s;const t=Ye(),o=(()=>typeof e=="string"?{type:"success",content:e,timeout:ae}:e)();U.value.push({...o,id:t}),setTimeout(()=>{U.value=U.value.filter(({id:n})=>n!==t)},(s=o.timeout)!=null?s:ae)},Ke=S({__name:"CustomMessage",setup(e){const{messageList:t}=He();return(o,s)=>(p(),A(Z,{to:"body"},[k(Oe,{name:"fall",tag:"div"},{default:M(()=>[(p(!0),O(_e,null,Be(y(t),n=>(p(),O("div",{key:n.id,class:"message-box fixed left-0 w-full flex justify-center z-4"},[i("div",{class:J(["message fixed rounded-md text-white p-1 mt-3 min-w-[300px] max-w-[90%] text-center shadow",{"bg-green-600":n.type===y(R).Success,"bg-yellow-600":n.type===y(R).Warning,"bg-red-600":n.type===y(R).Error}])},v(n.content),3)]))),128))]),_:1})]))}});const Qe=ee(Ke,[["__scopeId","data-v-a527f594"]]),Ze=["onClick"],Xe={class:"dialog-body z-1 max-w-[550px] max-h-[550px] rounded-sm bg-[white]"},be=S({__name:"Dialog",props:{visible:{type:Boolean},customClass:null,closeOnModal:{type:Boolean}},emits:["update:visible"],setup(e,{emit:t}){const o=e,s=()=>{o.closeOnModal&&t("update:visible",!1)};return(n,r)=>(p(),A(Z,{to:"body"},[k(G,{name:"fade"},{default:M(()=>[e.visible?(p(),O("div",{key:0,class:J(["dialog fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-2",[e.customClass]])},[i("div",{class:"dialog-modal absolute w-[200%] h-[200%] bg-black opacity-50",onClick:ve(s,["stop"])},null,8,Ze),i("div",Xe,[he(n.$slots,"default")])],2)):P("",!0)]),_:3})]))}});const et={class:"w-full h-full flex p-2 flex-col"},tt={class:"flex-1 flex pb-2 mb-4"},ot={class:"font-bold flex-1 pl-2 flex items-center"},nt={class:"w-full flex justify-end"},st=S({__name:"ConfirmProvider",props:{controller:null},setup(e){const t=e,o=()=>{t.controller.close(!1)},s=()=>{t.controller.close(!0)};return(n,r)=>(p(),A(be,{visible:e.controller.visible,"custom-class":"confirm-dialog z-3"},{default:M(()=>{var l,a;return[i("div",et,[i("div",{class:"w-full flex justify-end"},[i("i",{class:"w-10 icon-close buttoned p-2",onClick:o})]),i("div",tt,[i("div",ot,v(e.controller.title),1)]),i("div",nt,[i("button",{class:"buttoned shadow rounded px-2 mx-1 px-4",onClick:o},v((l=e.controller.cancelTitle)!=null?l:n.$t("no")),1),i("button",{class:"mx-1 bg-stone-900 text-white rounded px-4",onClick:s},v((a=e.controller.confirmTitle)!=null?a:n.$t("yes")),1)])])]}),_:1},8,["visible"]))}});const rt=ee(st,[["__scopeId","data-v-7e74c5e8"]]),ce=()=>({visible:!1,icon:"dialog-question",title:"",cancelTitle:void 0,confirmTitle:void 0,hideCancelButton:!1,close:()=>{}}),it=()=>{const e=h(ce());return{show:o=>new Promise((s,n)=>{e.value={...ce(),...o,visible:!0,close:r=>{e.value={...e.value,visible:!1},r?s():n()}}}),controller:e}},{show:co,controller:lt}=it();var m=(e=>(e[e.Income=0]="Income",e[e.Expenses=1]="Expenses",e))(m||{});const we=[{name:"Food",id:"food",type:m.Expenses,icon:"icon-bowl",color:"bg-red-600"},{name:"Transport",id:"transport",type:m.Expenses,icon:"icon-airplane",color:"bg-red-600"},{name:"Shopping",id:"shopping",type:m.Expenses,icon:"icon-shopping-cart",color:"bg-red-600"},{name:"Housing",id:"housing",type:m.Expenses,icon:"icon-home-alt",color:"bg-red-600"},{name:"Entertainment",id:"entertainment",type:m.Expenses,icon:"icon-dice-3",color:"bg-red-600"},{name:"Medical",id:"medical",type:m.Expenses,icon:"icon-pill",color:"bg-red-600"},{name:"Education",id:"education",type:m.Expenses,icon:"icon-pen",color:"bg-red-600"},{name:"Relationship",id:"relationship",type:m.Expenses,icon:"icon-gift",color:"bg-red-600"},{name:"Other",id:"other-expenses",type:m.Expenses,icon:"icon-bookmark",color:"bg-red-600"},{name:"Wage",id:"wage",type:m.Income,icon:"icon-credit-card",color:"bg-red-600"},{name:"Part Time",id:"part-time",type:m.Income,icon:"icon-community",color:"bg-red-600"},{name:"Lean",id:"lean",type:m.Income,icon:"icon-mail-open",color:"bg-red-600"},{name:"Refund",id:"refund",type:m.Income,icon:"icon-arrow-bottom-right",color:"bg-red-600"},{name:"Drawback",id:"drawback",type:m.Income,icon:"icon-pentagon-right",color:"bg-red-600"},{name:"Other",id:"other-income",type:m.Income,icon:"icon-bookmark",color:"bg-red-600"}],Y=new Map,ue=e=>{if(Y.has(e))return Y.get(e);const t=we.find(o=>o.id===e);if(t)return Y.set(e,t),t},L=class{constructor(){B(this,"records");var t;this.records=JSON.parse((t=localStorage.getItem(L.RECORDS_NAME))!=null?t:"[]")}get version(){var t;return Number((t=localStorage.getItem(L.VERSION_NAME))!=null?t:"1")}set version(t){localStorage.setItem(L.VERSION_NAME,String(t))}has(t){return this.records.some(o=>o===t)}delete(t){this.records=this.records.filter(o=>o!==t),localStorage.setItem(L.RECORDS_NAME,JSON.stringify(this.records))}add(t){this.has(t)||(this.records.push(t),localStorage.setItem(L.RECORDS_NAME,JSON.stringify(this.records)))}};let $=L;B($,"VERSION_NAME","version"),B($,"RECORDS_NAME","records");const C=new $,de={bills:"++id, comment, categoryId, time",users:"++id, nickname, name, me, connectId, latestTransferTime"};class at extends Ve{constructor(){super("billDatabase");B(this,"bills");B(this,"users");B(this,"afterUpgradeFn");this.version(C.version).stores(this.getStoreSchemas())}async addNewBillTable(o,s){var r;if(o==="bills"||o==="users")throw new Error("invalid table name");if(!C.has(o)){C.add(o),await this.upgradeBills(),await((r=this.tables.find(l=>l.name===o))==null?void 0:r.bulkAdd(s));return}const n=this.tables.find(l=>l.name===o);await(n==null?void 0:n.clear()),await(n==null?void 0:n.bulkAdd(s))}async deleteBillTable(o){if(o==="bills"||o==="users")throw new Error("invalid table name");C.has(o)&&(C.delete(o),await this.upgradeBills({[o]:null}))}getOtherBillDbs(){return[...this.tables.filter(o=>C.has(o.name))]}getStoreSchemas(){return{...de,...Object.fromEntries(C.records.map(o=>[o,de.bills]))}}async upgradeBills(o){var n;const s=this.verno+1;this.close(),await new Promise(r=>setTimeout(r,500)),this.version(s).stores({...this.getStoreSchemas(),...o}).upgrade(()=>{}),await this.open(),(n=this.afterUpgradeFn)==null||n.call(this),C.version=this.verno}afterUpgrade(o){this.afterUpgradeFn=o}}const f=new at,ct=(e,t)=>{const o=h(t),s=h(1);return{result:q({get:()=>o.value,set:async n=>{s.value=0;try{const r=await e(n);o.value=r}catch{s.value=2}}}),status:s,directlyChange:n=>{o.value=n}}},ut=()=>({id:X(),name:"Me",me:!0,connectId:"",latestTransferTime:-1}),{result:K,directlyChange:me}=ct(async e=>(await f.users.put({...e},e.id),e),{name:"",id:"",me:!1,connectId:"",latestTransferTime:-1});let H=!1;const xe=async()=>{const e=await f.users.toArray();if(e.length===0&&!H){H=!0;const t=ut();return await f.users.add({...t,me:!0}),H=!1,me(t),e}return me(e.find(t=>t.me)),e};xe();const te=h([]);ye(async()=>await xe()).subscribe(e=>{te.value=e});const dt=e=>f.users.update(K.value.id,{...K.value,...e}),mt=async(e,t)=>{const o=await f.users.get(e);return f.users.update(e,{...o,...t})},ft=e=>{var t;return f.users.add({...e,id:(t=e.id)!=null?t:X(),me:!1})},pt=async e=>{await f.users.delete(e),await f.deleteBillTable(e)},Ee=()=>({userInfo:K,allUsers:te,setMyInfo:dt,updateUserInfo:mt,addUserInfo:ft,removeUserInfo:pt}),uo=e=>te.value.find(t=>t.id===e),vt=(e,t)=>{let o=[],s=e.map((u,d)=>({index:d,count:0}));const n=()=>{s=s.filter(u=>u.count<e[u.index].length)},r=u=>{let d=u[0],E=[u[0].index];u.forEach((c,_)=>{d.val<c.val?(d=c,E=[c.index]):d.val==c.val&&_!=0&&E.push(c.index)}),E.forEach(c=>{const _=c;s.forEach(g=>{g.index==_&&g.count++})}),n(),o.push(d.raw)};n();let l=[];for(;s.length>1;)l=s.map((u,d)=>({index:u.index,val:e[u.index][u.count][t],raw:e[u.index][u.count]})),r(l);if(!s[0])return o;const a=e[s[0].index].slice(s[0].count);return o=o.concat(a),o},{userInfo:ht}=Ee(),mo=e=>f.deleteBillTable(e),_t=e=>f.bills.add({...e,id:X(),creatorId:ht.value.id}),gt=async e=>{await f.bills.delete(e)},yt=async(e,t)=>{const o=await f.bills.get(e);if(o)return f.bills.put({...o,...t},e)},Ie=h([]),Ce=()=>ye(async()=>{const e=await f.bills.toArray(),t=f.getOtherBillDbs(),o=[e,...await Promise.all(t.map(s=>s.orderBy("time").reverse().toArray()))];return vt(o,"time")}).subscribe({next:e=>{Ie.value=e},error:e=>{}});let fe=Ce();f.afterUpgrade(()=>{fe.unsubscribe(),fe=Ce()});const fo=()=>({list:Ie}),bt=(e,t)=>t===void 0?!0:[m.Expenses,m.Income].includes(e.type),wt=(e,t,o)=>{const s=j.unix(e.time);return t?o?s.isAfter(t)&&s.isBefore(o):s.isAfter(t):o?s.isBefore(o):!0},xt=(e,t=-1/0,o=1/0)=>e.money<=o&&e.money>=t,Et=(e,t)=>t.some(o=>e.creatorId===o),It=(e,t)=>t.some(o=>e.categoryId===o),Ct=(e,t)=>t?Boolean(e.comment.includes(t)):!0,po=(e,t)=>bt(e,t.type)&&Et(e,t.users)&&It(e,t.categories)&&xt(e,t.min,t.max)&&wt(e,t.start,t.end)&&Ct(e,t.comment),b=h(),N=h("add"),kt=(e="add",t,o)=>{b.value=t,N.value=e,o==null||o.push("/edit")},vo=()=>{b.value=void 0,N.value="add"},ho=e=>{var d,E,c,_,g,I,T,D,oe,ne;const t=h(m.Expenses),o=h(),s=q(()=>we.filter(se=>se.type===t.value)),n=h(s.value[0].id),r=h(""),l=h("");Le(()=>{n.value=s.value[0].id}),N.value==="edit"&&(t.value=(E=(d=b.value)==null?void 0:d.type)!=null?E:t.value,o.value=(g=(c=b.value)!=null&&c.time?j.unix((_=b.value)==null?void 0:_.time).toISOString():void 0)!=null?g:o.value,n.value=(T=(I=b.value)==null?void 0:I.categoryId)!=null?T:n.value,r.value=((D=b.value)==null?void 0:D.money)!==void 0?b.value.money:r.value,l.value=(ne=(oe=b.value)==null?void 0:oe.comment)!=null?ne:l.value);const a=()=>{e.back()};return{time:o,type:t,categories:s,cateId:n,comment:l,result:r,onConfirm:async()=>{var re,ie;const W=(()=>({type:t.value,time:j(o.value).unix(),categoryId:n.value,money:Number(r.value),comment:l.value}))();if(W.money<0){Ge({type:R.Error,content:"money can not be negative"});return}if(N.value==="add"){await _t(W),a();return}N.value==="edit"&&(re=b.value)!=null&&re.id&&(await yt((ie=b.value)==null?void 0:ie.id,W),a())},goBack:a}},At={key:0,class:"p-4 flex flex-col w-full h-full"},Mt={class:"flex-1"},Ot={class:"flex-1 flex items-center justify-between"},Bt={class:"flex items-center"},Lt={class:"rounded-full bg-white border p-4"},St={class:"flex text-md font-semibold mx-2"},Tt={class:"text-2xl font-bold overflow-x-auto"},Dt=i("div",{class:"w-full border border-dashed my-2"},null,-1),$t={class:"text-gray-500"},Pt={class:"flex justify-between items-center my-1"},Rt={class:"flex-1 overflow-x-auto text-right"},Nt={class:"flex justify-between items-center my-1"},Ut={class:"flex justify-between items-center my-1"},Vt={class:"footer flex justify-between items-center"},jt={class:"flex"},zt={class:"flex"},Ft=S({__name:"BillInfo",props:{controller:null},emits:["delete","edit"],setup(e,{emit:t}){const o=e,s=c=>j.unix(c).format("YYYY-MM-DD hh:mm"),{allUsers:n,userInfo:r}=Ee(),l=q(()=>{var c,_;return(_=(c=n.value.find(g=>{var I;return g.id===((I=o.controller.info)==null?void 0:I.creatorId)}))==null?void 0:c.name)!=null?_:"unknown user"}),a=()=>{o.controller.set("visible",!1)},u=()=>{o.controller.info&&(gt(o.controller.info.id),t("delete",o.controller.info.id)),a()},d=ge(),E=()=>{o.controller.info&&(kt("edit",o.controller.info,d),t("edit",o.controller.info)),a()};return(c,_)=>(p(),A(be,{visible:e.controller.visible,"close-on-modal":"","custom-class":"bill-info-dialog","onUpdate:visible":_[0]||(_[0]=g=>e.controller.set("visible",g))},{default:M(()=>{var g,I,T,D;return[e.controller.info?(p(),O("div",At,[i("div",Mt,[i("div",Ot,[i("div",Bt,[i("div",Lt,[i("i",{class:J(["icon-md",[(g=y(ue)(e.controller.info.categoryId))==null?void 0:g.icon]])},null,2)]),i("div",St,[i("div",null,v(c.$t((I=y(ue)(e.controller.info.categoryId))==null?void 0:I.name)),1)])]),i("div",Tt,v(e.controller.info.money),1)]),Dt,i("div",$t,[i("div",Pt,[i("div",null,v(c.$t("comment"))+":",1),i("div",Rt,v(e.controller.info.comment),1)]),i("div",Nt,[i("div",null,v(c.$t("creator"))+":",1),i("div",null,v(y(l)),1)]),i("div",Ut,[i("div",null,v(c.$t("time"))+":",1),i("div",null,v(s(e.controller.info.time)),1)])])]),i("div",Vt,[i("div",jt,[((T=o.controller.info)==null?void 0:T.creatorId)===y(r).id?(p(),O("div",{key:0,class:"buttoned px-2 rounded-md text-red-600",onClick:u},v(c.$t("delete")),1)):P("",!0)]),i("div",zt,[i("div",{class:"buttoned px-2 rounded-md",onClick:a},v(c.$t("cancel")),1),((D=o.controller.info)==null?void 0:D.creatorId)===y(r).id?(p(),O("div",{key:0,class:"buttoned ml-2 px-2 rounded-md font-semibold",onClick:E},v(c.$t("edit")),1)):P("",!0)])])])):P("",!0)]}),_:1},8,["visible"]))}});const z=Se({info:void 0,visible:!1,set:(e,t)=>{e==="visible"&&(z.visible=t)}}),qt=e=>{z.info=e,z.visible=!0},Jt=()=>({show:qt,controller:z}),Wt=S({__name:"App",setup(e){const t=h(),o=(r,l)=>l.meta.popup?t.value:(t.value=r,r),s=(r,l)=>{if(l.meta.popup)return r},{controller:n}=Jt();return(r,l)=>{const a=Te("router-view");return p(),O(_e,null,[k(a,null,{default:M(({Component:u,route:d})=>[k(G,{name:"fade"},{default:M(()=>[(p(),A(le(o(u,d))))]),_:2},1024),(p(),A(Z,{to:"body"},[k(G,{name:"popup-slide",duration:300},{default:M(()=>[s(u,d)?(p(),A(We,De($e({key:0},d.meta.popupOption)),{default:M(()=>[(p(),A(le(s(u,d))))]),_:2},1040)):P("",!0)]),_:2},1024)]))]),_:1}),k(Ft,{controller:y(n)},null,8,["controller"]),k(y(Qe)),k(rt,{controller:y(lt)},null,8,["controller"])],64)}}});const Yt="modulepreload",Ht=function(e){return"/"+e},pe={},w=function(t,o,s){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=Ht(n),n in pe)return;pe[n]=!0;const r=n.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${l}`))return;const a=document.createElement("link");if(a.rel=r?"stylesheet":Yt,r||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),r)return new Promise((u,d)=>{a.addEventListener("load",u),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},Gt=Ne({history:Ue(),routes:[{path:"/",redirect:"/home"},{path:"/home",component:()=>w(()=>import("./MainLayout.5ee11052.js"),["assets/MainLayout.5ee11052.js","assets/MainLayout.7921e0ff.css","assets/@vue.aa17ec7c.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/dayjs.8eec1a0d.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),children:[{path:"/home",name:"home",component:()=>w(()=>import("./HomeView.deae914c.js"),["assets/HomeView.deae914c.js","assets/HomeView.2b46e98c.css","assets/BillItem.vue_vue_type_script_setup_true_lang.a8becacc.js","assets/lodash-es.94cbcf30.js","assets/@vue.aa17ec7c.js","assets/dayjs.8eec1a0d.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])},{path:"/stat",name:"stat",component:()=>w(()=>import("./StatView.ee1737ff.js"),["assets/StatView.ee1737ff.js","assets/StatView.c00165d1.css","assets/dayjs.8eec1a0d.js","assets/DateTime.vue_vue_type_script_setup_true_lang.5226095e.js","assets/@vue.aa17ec7c.js","assets/@vueuse.9aab9800.js","assets/echarts.f6f9045b.js","assets/zrender.271abeed.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])},{path:"/search",name:"search",component:()=>w(()=>import("./SearchView.554a445b.js"),["assets/SearchView.554a445b.js","assets/SearchView.48027c83.css","assets/@vue.aa17ec7c.js","assets/Select.vue_vue_type_style_index_0_lang.d2640959.js","assets/Select.c9f10c3d.css","assets/DateTime.vue_vue_type_script_setup_true_lang.5226095e.js","assets/dayjs.8eec1a0d.js","assets/BillItem.vue_vue_type_script_setup_true_lang.a8becacc.js","assets/lodash-es.94cbcf30.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])}]},{path:"/edit",name:"edit",component:()=>w(()=>import("./EditorView.9abcbb99.js"),["assets/EditorView.9abcbb99.js","assets/EditorView.a6726be3.css","assets/vue-router.835b731e.js","assets/@vue.aa17ec7c.js","assets/DateTime.vue_vue_type_script_setup_true_lang.5226095e.js","assets/dayjs.8eec1a0d.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popup:!0},beforeEnter:(e,t)=>t.fullPath==="/"?"/home":!0},{path:"/settings",component:()=>w(()=>import("./SettingsView.4acbf918.js"),["assets/SettingsView.4acbf918.js","assets/SettingsView.3b1321de.css","assets/vue-router.835b731e.js","assets/@vue.aa17ec7c.js"]),children:[{path:"/settings",name:"settings",component:()=>w(()=>import("./SettingsList.0430b36f.js"),["assets/SettingsList.0430b36f.js","assets/UserAvatar.616c50f0.js","assets/UserAvatar.e16389e3.css","assets/@vue.aa17ec7c.js","assets/Select.vue_vue_type_style_index_0_lang.d2640959.js","assets/Select.c9f10c3d.css","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/dayjs.8eec1a0d.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"settings"}},{path:"/settings/sync",name:"sync",component:()=>w(()=>import("./DataSync.4e5bef12.js"),["assets/DataSync.4e5bef12.js","assets/DataSync.be79f3ae.css","assets/@vue.aa17ec7c.js","assets/peerjs.faff7497.js","assets/peerjs-js-binarypack.edcf3dbb.js","assets/webrtc-adapter.37c3a6f1.js","assets/rtcpeerconnection-shim.1d74cdf3.js","assets/sdp.c10b5003.js","assets/UserAvatar.616c50f0.js","assets/UserAvatar.e16389e3.css","assets/dayjs.8eec1a0d.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"share-and-sync"}}],meta:{popup:!0,popupOption:{closeOnModal:!0}},beforeEnter:(e,t)=>t.fullPath==="/"?"/home":!0}]});const Kt=()=>w(()=>import("./zh.1dd376fa.js"),[]),Qt=()=>w(()=>import("./en.d5ca5674.js"),[]),F=[{name:"zh",fetcher:Kt,matcher:e=>e.includes("zh-CN"),label:"\u4E2D\u6587-\u7B80\u4F53"},{name:"en",fetcher:Qt,matcher:e=>!0,label:"English"}],Zt=function(){var t,o;const e=navigator.language?navigator.language:navigator.browserLanguage;return(o=(t=F.find(s=>s.matcher(e)))==null?void 0:t.name)!=null?o:F[0].name},V=je("lang",Zt()),x=ze({locale:V.value,fallbackLocale:"en"}),{t:ke}=x.global,_o=async e=>{if(x){const t=F.find(o=>o.name===e);if(t){if(x.global.availableLocales.includes(e)){x.global.locale=e;return}const{default:o}=await t.fetcher();x.global.setLocaleMessage(e,o),x.global.locale=e,document.title=ke("APP_NAME")}}},Xt=async()=>{const e=F.find(o=>o.name===V.value),{default:t}=await e.fetcher();return x.global.setLocaleMessage(V.value,t),x.global.locale=V.value,document.title=ke("APP_NAME"),x},Q=Pe(Wt);Q.use(Gt);Xt().then(e=>{Q.use(e),Q.mount("#app")});export{m as B,R as M,ee as _,Jt as a,uo as b,we as c,Ee as d,po as e,ho as f,ue as g,vo as h,wt as i,V as j,be as k,F as l,co as m,f as n,Ge as o,mo as p,_o as s,ke as t,fo as u};
