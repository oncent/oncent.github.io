import{m as S,r as $,q as i,t as b,y as v,v as f,z as m,Z as C,c as B,A as K,B as w,u as y,G as _,M as h,N as P,I as z,E as N,_ as k,F as A}from"./@vue.e6301bd2.js";import{_ as E}from"./index.708ef8bb.js";const F=S({__name:"Popover",props:{trigger:{default:"hover"},placement:{default:"bottom"},delay:{default:"0s"},offset:{default:"0px"}},setup(a,{expose:n}){C(o=>({"6b9dd089":a.offset}));const l=$();return n({show:()=>{var o;(o=l.value)==null||o.focus()},blur:()=>{var o;(o=l.value)==null||o.blur()}}),(o,g)=>(i(),b("div",{ref_key:"el",ref:l,class:m(["popover",`trigger-${a.trigger}`]),tabindex:"0"},[v(o.$slots,"default",{},void 0,!0),f("div",{class:m(["popover-overlay",[a.placement]])},[v(o.$slots,"overlay",{},void 0,!0)],2)],2))}});const I=E(F,[["__scopeId","data-v-4f437d46"]]),j={class:"shadow buttoned w-100px h-full truncate"},q={class:"w-200px bg-white rounded shadow-lg border max-h-40vh overflow-y-auto"},x=["onClick"],L=S({__name:"Select",props:{list:null,modelValue:null,valueKey:null,multiple:{type:Boolean},placement:{default:"bottom-right"}},emits:["update:modelValue"],setup(a,{emit:n}){const l=a,u=(e,s)=>typeof e=="string"||typeof e=="number"?e:l.valueKey===void 0?s:typeof l.valueKey=="function"?l.valueKey(e,s):e[l.valueKey],d=(e,s)=>{var t;return l.multiple?(t=l.modelValue)==null?void 0:t.some((r,c)=>u(r,c)===u(e,s)):u(l.modelValue,-1)===u(e,s)},o=$(),g=(e,s)=>{var t;if(l.multiple){if(!d(e,s)){n("update:modelValue",[...l.modelValue,e]);return}n("update:modelValue",l.modelValue.filter((r,c)=>u(r,c)!==u(e,s)));return}(t=o.value)==null||t.blur(),n("update:modelValue",e)},p=B({get:()=>l.list.every((e,s)=>d(e,s)),set:e=>{if(e){n("update:modelValue",l.list);return}n("update:modelValue",[])}}),V=()=>p.value=!p.value;return(e,s)=>(i(),K(I,{ref_key:"popover",ref:o,placement:a.placement,offset:"-1.5rem",trigger:"focus"},{overlay:w(()=>[f("div",q,[a.multiple?v(e.$slots,"select-all",h(P({key:0},{allSelected:y(p),toggle:V})),()=>[f("div",{class:m(["p-2 buttoned",{"!bg-gray-700 text-white":y(p)}]),onClick:V},_(e.$t("select-all")),3)]):z("",!0),(i(!0),b(A,null,N(a.list,(t,r)=>(i(),b("div",{key:u(t,r),class:m(["p-2 buttoned",{"!bg-gray-700 text-white":d(t,r)}]),onClick:c=>g(t,r)},[v(e.$slots,"option",h(k({item:t,index:r,select:()=>g(t,r),selected:d(t,r)})),()=>{var c;return[f("div",null,_((c=t.name)!=null?c:t),1)]})],10,x))),128))])]),default:w(()=>[v(e.$slots,"default",h(k({allSelected:y(p)})),()=>[f("div",j,_(a.multiple?a.modelValue.join(""):a.modelValue),1)])]),_:3},8,["placement"]))}});export{L as _};
