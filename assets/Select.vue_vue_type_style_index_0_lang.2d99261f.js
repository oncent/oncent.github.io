import{m as k,r as S,q as h,t as $,y as v,v as p,z as i,X as C,c as B,A as K,B as b,u as g,G as y,M as _,N as w,I as P,E as z,F as N,Y as A}from"./@vue.aa17ec7c.js";import{_ as E}from"./index.1ab36cef.js";const F=k({__name:"Popover",props:{trigger:{default:"hover"},placement:{default:"bottom"},delay:{default:"0s"},offset:{default:"0px"}},setup(s,{expose:n}){C(o=>({"02a1a2ba":s.offset}));const l=S();return n({show:()=>{var o;(o=l.value)==null||o.focus()},blur:()=>{var o;(o=l.value)==null||o.blur()}}),(o,m)=>(h(),$("div",{ref_key:"el",ref:l,class:i(["popover",`trigger-${s.trigger}`]),tabindex:"0"},[v(o.$slots,"default",{},void 0,!0),p("div",{class:i(["popover-overlay",[s.placement]])},[v(o.$slots,"overlay",{},void 0,!0)],2)],2))}});const I=E(F,[["__scopeId","data-v-c23761ad"]]),j={class:"shadow buttoned w-100px h-full truncate"},q={class:"w-200px bg-white rounded shadow-lg border max-h-40vh overflow-y-auto"},x=["onClick"],L=k({__name:"Select",props:{list:null,modelValue:null,valueKey:null,multiple:{type:Boolean}},emits:["update:modelValue"],setup(s,{emit:n}){const l=s,u=(e,a)=>l.valueKey===void 0?a:typeof l.valueKey=="function"?l.valueKey(e,a):e[l.valueKey],c=(e,a)=>{var t;return l.multiple?(t=l.modelValue)==null?void 0:t.some((r,f)=>u(r,f)===u(e,a)):u(l.modelValue,-1)===u(e,a)},o=S(),m=(e,a)=>{var t;if(l.multiple){if(!c(e,a)){n("update:modelValue",[...l.modelValue,e]);return}n("update:modelValue",l.modelValue.filter((r,f)=>u(r,f)!==u(e,a)));return}(t=o.value)==null||t.blur(),n("update:modelValue",e)},d=B({get:()=>l.list.every((e,a)=>c(e,a)),set:e=>{if(e){n("update:modelValue",l.list);return}n("update:modelValue",[])}}),V=()=>d.value=!d.value;return(e,a)=>(h(),K(I,{ref_key:"popover",ref:o,placement:"bottom-right",offset:"-1.5rem",trigger:"focus"},{overlay:b(()=>[p("div",q,[s.multiple?v(e.$slots,"select-all",_(w({key:0},{allSelected:g(d),toggle:V})),()=>[p("div",{class:i(["p-2 buttoned",{"!bg-gray-700 text-white":g(d)}]),onClick:V},y(e.$t("select-all")),3)]):P("",!0),(h(!0),$(N,null,z(s.list,(t,r)=>v(e.$slots,"option",_(w({key:u(t,r)},{item:t,index:r,select:()=>m(t,r),selected:c(t,r)})),()=>[p("div",{class:i(["p-2 buttoned",{"!bg-gray-700 text-white":c(t,r)}]),onClick:f=>m(t,r)},y(t.name),11,x)])),128))])]),default:b(()=>[v(e.$slots,"default",_(A({allSelected:g(d)})),()=>[p("div",j,y(s.multiple?s.modelValue.join(""):s.modelValue),1)])]),_:3},512))}});export{L as _};
