var Be=Object.defineProperty;var Me=(e,t,o)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var R=(e,t,o)=>(Me(e,typeof t!="symbol"?t+"":t,o),o);import{m as $,c as D,q as f,t as I,v as i,x as ye,y as ee,z as H,r as _,A as k,k as O,B,C as Re,D as te,E as Te,G as g,u as h,F as be,H as Q,I as P,J as Se,l as Pe,K as Ue,L as me,M as De,N as $e,O as je}from"./@vue.aa17ec7c.js";import{u as Ne,a as xe,c as Ve,b as Fe}from"./vue-router.835b731e.js";import{D as ze,l as we}from"./dexie.a92c4e2b.js";import{v as oe}from"./uuid.fbc3d34b.js";import{d as ne}from"./dayjs.8eec1a0d.js";import{u as qe}from"./@vueuse.9aab9800.js";import{c as He}from"./vue-i18n.bcf46dc7.js";import"./@intlify.03657722.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const Je={class:"popup-view fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-1"},We=["onClick"],Ye=$({__name:"PopupRouterView",props:{closeOnModal:{type:Boolean},bodyClass:null},setup(e){const t=e,o=Ne(),s=D(()=>o.matched[o.matched.length-2].path===o.path),n=xe(),r=()=>{t.closeOnModal&&s.value&&n.back()};return(l,c)=>(f(),I("div",Je,[i("div",{class:"popup-view-modal absolute w-[200%] h-[200%] bg-black opacity-50",onClick:ye(r,["stop"])},null,8,We),i("div",{class:H(["popup-view-body flex z-1 w-screen h-screen sm:max-w-[550px] sm:min-w-[400px] sm:w-[60%] sm:h-[55%] sm:top-auto sm:left-auto sm:rounded-lg bg-[white]",e.bodyClass])},[ee(l.$slots,"default",{},void 0,!0)],2)]))}});const se=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o},Ge=se(Ye,[["__scopeId","data-v-d870a814"]]),Ke=(()=>{let e=0;return()=>e+=1})();var z=(e=>(e.Success="success",e.Error="error",e.Warning="warning",e))(z||{});const W=_([]),fe=3e3,Qe=()=>({messageList:W}),Ze=e=>{var s;const t=Ke(),o=(()=>typeof e=="string"?{type:"success",content:e,timeout:fe}:e)();W.value.push({...o,id:t}),setTimeout(()=>{W.value=W.value.filter(({id:n})=>n!==t)},(s=o.timeout)!=null?s:fe)},Xe=$({__name:"CustomMessage",setup(e){const{messageList:t}=Qe();return(o,s)=>(f(),k(te,{to:"body"},[O(Re,{name:"fall",tag:"div"},{default:B(()=>[(f(!0),I(be,null,Te(h(t),n=>(f(),I("div",{key:n.id,class:"message-box fixed left-0 w-full flex justify-center z-4"},[i("div",{class:H(["message fixed rounded-md text-white p-1 mt-3 min-w-[300px] max-w-[90%] text-center shadow",{"bg-green-600":n.type===h(z).Success,"bg-yellow-600":n.type===h(z).Warning,"bg-red-600":n.type===h(z).Error}])},g(n.content),3)]))),128))]),_:1})]))}});const et=se(Xe,[["__scopeId","data-v-a527f594"]]),tt=["onClick"],ot={class:"dialog-body z-1 max-w-[550px] max-h-[550px] rounded-sm bg-[white]"},Ee=$({__name:"Dialog",props:{visible:{type:Boolean},customClass:null,closeOnModal:{type:Boolean}},emits:["update:visible"],setup(e,{emit:t}){const o=e,s=()=>{o.closeOnModal&&t("update:visible",!1)};return(n,r)=>(f(),k(te,{to:"body"},[O(Q,{name:"fade"},{default:B(()=>[e.visible?(f(),I("div",{key:0,class:H(["dialog fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-2",[e.customClass]])},[i("div",{class:"dialog-modal absolute w-[200%] h-[200%] bg-black opacity-50",onClick:ye(s,["stop"])},null,8,tt),i("div",ot,[ee(n.$slots,"default")])],2)):P("",!0)]),_:3})]))}});const nt={class:"w-full h-full flex p-2 flex-col"},st={class:"flex-1 flex pb-2 mb-4"},rt={class:"font-bold flex-1 pl-2 flex items-center"},it={class:"w-full flex justify-end"},lt=$({__name:"ConfirmProvider",props:{controller:null},setup(e){const t=e,o=()=>{t.controller.close(!1)},s=()=>{t.controller.close(!0)};return(n,r)=>(f(),k(Ee,{visible:e.controller.visible,"custom-class":"confirm-dialog z-3"},{default:B(()=>{var l,c;return[i("div",nt,[i("div",{class:"w-full flex justify-end"},[i("i",{class:"w-10 icon-close buttoned p-2",onClick:o})]),i("div",st,[ee(n.$slots,"default",{},()=>[i("div",rt,g(e.controller.title),1)],!0)]),i("div",it,[i("button",{class:"buttoned shadow rounded px-2 mx-1 px-4",onClick:o},g((l=e.controller.cancelTitle)!=null?l:n.$t("no")),1),i("button",{class:"mx-1 bg-stone-900 text-white rounded px-4",onClick:s},g((c=e.controller.confirmTitle)!=null?c:n.$t("yes")),1)])])]}),_:3},8,["visible"]))}});const at=se(lt,[["__scopeId","data-v-3cd738c5"]]),pe=()=>({visible:!1,icon:"dialog-question",title:"",cancelTitle:void 0,confirmTitle:void 0,hideCancelButton:!1,close:()=>{}}),ct=()=>{const e=_(pe());return{show:o=>new Promise((s,n)=>{e.value={...pe(),...o,visible:!0,close:r=>{e.value={...e.value,visible:!1},r?s():n()}}}),controller:e}},{show:bo,controller:ut}=ct();var u=(e=>(e[e.Income=0]="Income",e[e.Expenses=1]="Expenses",e))(u||{});const dt=[{name:"Food",id:"food",type:u.Expenses,icon:"icon-bowl",color:"bg-red-600"},{name:"Transport",id:"transport",type:u.Expenses,icon:"icon-airplane",color:"bg-red-600"},{name:"Shopping",id:"shopping",type:u.Expenses,icon:"icon-shopping-cart",color:"bg-red-600"},{name:"Housing",id:"housing",type:u.Expenses,icon:"icon-home-alt",color:"bg-red-600"},{name:"Entertainment",id:"entertainment",type:u.Expenses,icon:"icon-dice-3",color:"bg-red-600"},{name:"Medical",id:"medical",type:u.Expenses,icon:"icon-pill",color:"bg-red-600"},{name:"Education",id:"education",type:u.Expenses,icon:"icon-pen",color:"bg-red-600"},{name:"Relationship",id:"relationship",type:u.Expenses,icon:"icon-gift",color:"bg-red-600"},{name:"Balance Account",id:"balance-account",type:u.Expenses,icon:"icon-ruler",color:"bg-red-600"},{name:"Other",id:"other-expenses",type:u.Expenses,icon:"icon-bookmark",color:"bg-red-600"}],mt=[{name:"Wage",id:"wage",type:u.Income,icon:"icon-credit-card",color:"bg-red-600"},{name:"Part Time",id:"part-time",type:u.Income,icon:"icon-community",color:"bg-red-600"},{name:"Lean",id:"lean",type:u.Income,icon:"icon-mail-open",color:"bg-red-600"},{name:"Refund",id:"refund",type:u.Income,icon:"icon-arrow-bottom-right",color:"bg-red-600"},{name:"Drawback",id:"drawback",type:u.Income,icon:"icon-pentagon-right",color:"bg-red-600"},{name:"Balance Account",id:"balance-account",type:u.Income,icon:"icon-ruler",color:"bg-red-600"},{name:"Other",id:"other-income",type:u.Income,icon:"icon-bookmark",color:"bg-red-600"}],Ie=[...dt,...mt],G=new Map,ft=e=>{if(G.has(e))return G.get(e);const t=Ie.find(o=>o.id===e);if(t)return G.set(e,t),t},T=class{constructor(){R(this,"records");var t;this.records=JSON.parse((t=localStorage.getItem(T.RECORDS_NAME))!=null?t:"[]")}get version(){var t;return Number((t=localStorage.getItem(T.VERSION_NAME))!=null?t:"1")}set version(t){localStorage.setItem(T.VERSION_NAME,String(t))}has(t){return this.records.some(o=>o===t)}delete(t){this.records=this.records.filter(o=>o!==t),localStorage.setItem(T.RECORDS_NAME,JSON.stringify(this.records))}add(t){this.has(t)||(this.records.push(t),localStorage.setItem(T.RECORDS_NAME,JSON.stringify(this.records)))}};let F=T;R(F,"VERSION_NAME","version"),R(F,"RECORDS_NAME","records");const A=new F,ve={bills:"++id, comment, categoryId, time",users:"++id, nickname, name, me, connectId, latestTransferTime"};class pt extends ze{constructor(){super("billDatabase");R(this,"bills");R(this,"users");R(this,"afterUpgradeFn");this.version(A.version).stores(this.getStoreSchemas())}async addNewBillTable(o,s){var r;if(o==="bills"||o==="users")throw new Error("invalid table name");if(!A.has(o)){A.add(o),await this.upgradeBills(),await((r=this.tables.find(l=>l.name===o))==null?void 0:r.bulkAdd(s));return}const n=this.tables.find(l=>l.name===o);await(n==null?void 0:n.clear()),await(n==null?void 0:n.bulkAdd(s))}async deleteBillTable(o){if(o==="bills"||o==="users")throw new Error("invalid table name");A.has(o)&&(A.delete(o),await this.upgradeBills({[o]:null}))}getOtherBillDbs(){return[...this.tables.filter(o=>A.has(o.name))]}getStoreSchemas(){return{...ve,...Object.fromEntries(A.records.map(o=>[o,ve.bills]))}}async upgradeBills(o){var n;const s=this.verno+1;this.close(),await new Promise(r=>setTimeout(r,500)),this.version(s).stores({...this.getStoreSchemas(),...o}).upgrade(()=>{}),await this.open(),(n=this.afterUpgradeFn)==null||n.call(this),A.version=this.verno}afterUpgrade(o){this.afterUpgradeFn=o}}const p=new pt,vt=(e,t)=>{const o=_(t),s=_(1);return{result:D({get:()=>o.value,set:async n=>{s.value=0;try{const r=await e(n);o.value=r}catch{s.value=2}}}),status:s,directlyChange:n=>{o.value=n}}},gt=()=>({id:oe(),name:"Me",me:!0,connectId:"",latestTransferTime:-1}),{result:Z,directlyChange:ge}=vt(async e=>(await p.users.put({...e},e.id),e),{name:"",id:"",me:!1,connectId:"",latestTransferTime:-1});let K=!1;const Ce=async()=>{const e=await p.users.toArray();if(e.length===0&&!K){K=!0;const t=gt();return await p.users.add({...t,me:!0}),K=!1,ge(t),e}return ge(e.find(t=>t.me)),e};Ce();const re=_([]);we(async()=>await Ce()).subscribe(e=>{re.value=e});const ht=e=>p.users.update(Z.value.id,{...Z.value,...e}),_t=async(e,t)=>{const o=await p.users.get(e);return p.users.update(e,{...o,...t})},yt=e=>{var t;return p.users.add({...e,id:(t=e.id)!=null?t:oe(),me:!1})},bt=async e=>{await p.users.delete(e),await p.deleteBillTable(e)},Le=()=>({userInfo:Z,allUsers:re,setMyInfo:ht,updateUserInfo:_t,addUserInfo:yt,removeUserInfo:bt}),xo=e=>re.value.find(t=>t.id===e),xt="*",wt="image/png,image/jpeg,image/gif,image/webp",wo="file/json",Et=({accept:e,multiple:t})=>{const o=document.createElement("input");return o.type="file",o.accept=e!=null?e:xt,o.multiple=t!=null?t:!1,new Promise((s,n)=>{o.addEventListener("change",()=>{if(o.files===null){n();return}s(Array.from(o.files))}),o.addEventListener("error",n),o.click()})},It=(e,t)=>{let o=[],s=e.map((a,m)=>({index:m,count:0}));const n=()=>{s=s.filter(a=>a.count<e[a.index].length)},r=a=>{let m=a[0],S=[a[0].index];a.forEach((y,C)=>{m.val<y.val?(m=y,S=[y.index]):m.val==y.val&&C!=0&&S.push(y.index)}),S.forEach(y=>{const C=y;s.forEach(d=>{d.index==C&&d.count++})}),n(),o.push(m.raw)};n();let l=[];for(;s.length>1;)l=s.map((a,m)=>({index:a.index,val:e[a.index][a.count][t],raw:e[a.index][a.count]})),r(l);if(!s[0])return o;const c=e[s[0].index].slice(s[0].count);return o=o.concat(c),o},{userInfo:Ct}=Le(),Eo=e=>p.deleteBillTable(e),Lt=e=>p.bills.add({...e,id:oe(),creatorId:Ct.value.id}),At=async e=>{await p.bills.delete(e)},Ot=async(e,t)=>{const o=await p.bills.get(e);if(o)return p.bills.put({...o,...t},e)},Ae=_([]),Oe=()=>we(async()=>{const e=await p.bills.orderBy("time").reverse().toArray(),t=p.getOtherBillDbs(),o=[e,...await Promise.all(t.map(s=>s.orderBy("time").reverse().toArray()))];return It(o,"time")}).subscribe({next:e=>{Ae.value=e},error:e=>{}});let he=Oe();p.afterUpgrade(()=>{he.unsubscribe(),he=Oe()});const Io=()=>({list:Ae}),kt=(e,t)=>t===void 0?!0:[u.Expenses,u.Income].includes(e.type),Bt=(e,t,o)=>{const s=ne.unix(e.time);return t?o?s.isAfter(t)&&s.isBefore(o):s.isAfter(t):o?s.isBefore(o):!0},Mt=(e,t=-1/0,o=1/0)=>e.money<=o&&e.money>=t,Rt=(e,t)=>t.some(o=>e.creatorId===o),Tt=(e,t)=>t.some(o=>e.categoryId===o),St=(e,t)=>t?Boolean(e.comment.includes(t)):!0,Co=(e,t)=>kt(e,t.type)&&Rt(e,t.users)&&Tt(e,t.categories)&&Mt(e,t.min,t.max)&&Bt(e,t.start,t.end)&&St(e,t.comment),v=_(),q=_("add"),Pt=(e="add",t,o)=>{v.value=t,q.value=e,o==null||o.push("/edit")},Lo=()=>{v.value=void 0,q.value="add"},Ao=e=>{var y,C,d,b,w,L,j,N,ie,le,ae;const t=_(u.Expenses),o=_(),s=D(()=>Ie.filter(M=>M.type===t.value)),n=_(s.value[0].id),r=_(""),l=_("");Se(()=>{n.value=s.value[0].id});const c=_(),a=async()=>{const[M]=await Et({accept:wt,multiple:!1}),V=URL.createObjectURL(M);c.value&&URL.revokeObjectURL(c.value.url),c.value={url:V,file:M}};if(q.value==="edit"&&(t.value=(C=(y=v.value)==null?void 0:y.type)!=null?C:t.value,o.value=(w=(d=v.value)!=null&&d.time?ne.unix((b=v.value)==null?void 0:b.time):void 0)!=null?w:o.value,n.value=(j=(L=v.value)==null?void 0:L.categoryId)!=null?j:n.value,r.value=((N=v.value)==null?void 0:N.money)!==void 0?v.value.money:r.value,l.value=(le=(ie=v.value)==null?void 0:ie.comment)!=null?le:l.value,(ae=v.value)!=null&&ae.image)){const M=v.value.image instanceof Blob?URL.createObjectURL(v.value.image):URL.createObjectURL(new Blob([v.value.image]));c.value={file:v.value.image,url:M}}const m=()=>{e.back()};return{time:o,type:t,categories:s,cateId:n,comment:l,result:r,image:c,onConfirm:async()=>{var ce,ue;const V=(()=>{var de;return{type:t.value,time:o.value.unix(),categoryId:n.value,money:Number(r.value),comment:l.value,image:(de=c.value)==null?void 0:de.file}})();if(V.money<0){Ze({type:z.Error,content:"money can not be negative"});return}if(q.value==="add"){await Lt(V),m();return}q.value==="edit"&&(ce=v.value)!=null&&ce.id&&(await Ot((ue=v.value)==null?void 0:ue.id,V),m())},goBack:m,chooseImage:a}},Ut={key:0,class:"min-h-[300px] p-4 flex flex-col w-full h-full"},Dt={class:"flex-1 flex flex-col"},$t={class:"flex items-center justify-between"},jt={class:"flex items-center"},Nt={class:"rounded-full bg-white border p-4"},Vt={class:"flex text-md font-semibold mx-2"},Ft=i("div",{class:"w-full border border-dashed my-2"},null,-1),zt={class:"text-gray-500"},qt={class:"flex justify-between items-center my-1"},Ht={class:"flex-1 overflow-x-auto text-right"},Jt={class:"flex justify-between items-center my-1"},Wt={class:"flex justify-between items-center my-1"},Yt={key:0,class:"flex-1 py-2 flex items-center justify-center"},Gt=["src"],Kt={class:"footer flex justify-between items-center"},Qt={class:"flex"},Zt={class:"flex"},Xt=$({__name:"BillInfo",props:{controller:null},emits:["delete","edit"],setup(e,{emit:t}){const o=e,s=d=>ne.unix(d).format("YYYY-MM-DD HH:mm"),n=D(()=>{var d,b;return(d=o.controller.info)!=null&&d.categoryId?ft((b=o.controller.info)==null?void 0:b.categoryId):void 0}),{allUsers:r,userInfo:l}=Le(),c=D(()=>{var d,b;return(b=(d=r.value.find(w=>{var L;return w.id===((L=o.controller.info)==null?void 0:L.creatorId)}))==null?void 0:d.name)!=null?b:"unknown user"}),a=()=>{o.controller.set("visible",!1)},m=()=>{o.controller.info&&(At(o.controller.info.id),t("delete",o.controller.info.id)),a()},S=xe(),y=()=>{o.controller.info&&(Pt("edit",o.controller.info,S),t("edit",o.controller.info)),a()},C=d=>URL.createObjectURL(new Blob([d]));return(d,b)=>(f(),k(Ee,{visible:e.controller.visible,"close-on-modal":"","custom-class":"bill-info-dialog","onUpdate:visible":b[0]||(b[0]=w=>e.controller.set("visible",w))},{default:B(()=>{var w,L,j,N;return[e.controller.info?(f(),I("div",Ut,[i("div",Dt,[i("div",$t,[i("div",jt,[i("div",Nt,[i("i",{class:H(["icon-md",[(w=h(n))==null?void 0:w.icon]])},null,2)]),i("div",Vt,[i("div",null,g(d.$t((L=h(n))==null?void 0:L.name)),1)])]),i("div",{class:H(["text-2xl font-bold flex overflow-x-auto",{"text-red-700":e.controller.info.type===h(u).Expenses,"text-green-900":e.controller.info.type===h(u).Income}])},[i("div",null,g(e.controller.info.type===h(u).Expenses?"-":"+"),1),i("div",null,g(e.controller.info.money),1)],2)]),Ft,i("div",zt,[i("div",qt,[i("div",null,g(d.$t("comment"))+":",1),i("div",Ht,g(e.controller.info.comment),1)]),i("div",Jt,[i("div",null,g(d.$t("creator"))+":",1),i("div",null,g(h(c)),1)]),i("div",Wt,[i("div",null,g(d.$t("time"))+":",1),i("div",null,g(s(e.controller.info.time)),1)])]),e.controller.info.image?(f(),I("div",Yt,[i("img",{src:C(e.controller.info.image),alt:"",class:"max-h-200px object-contain rounded"},null,8,Gt)])):P("",!0)]),i("div",Kt,[i("div",Qt,[((j=o.controller.info)==null?void 0:j.creatorId)===h(l).id?(f(),I("div",{key:0,class:"buttoned px-2 rounded-md text-red-600",onClick:m},g(d.$t("delete")),1)):P("",!0)]),i("div",Zt,[i("div",{class:"buttoned px-2 rounded-md",onClick:a},g(d.$t("cancel")),1),((N=o.controller.info)==null?void 0:N.creatorId)===h(l).id?(f(),I("div",{key:0,class:"buttoned ml-2 px-2 rounded-md font-semibold",onClick:y},g(d.$t("edit")),1)):P("",!0)])])])):P("",!0)]}),_:1},8,["visible"]))}});const Y=Pe({info:void 0,visible:!1,set:(e,t)=>{e==="visible"&&(Y.visible=t)}}),eo=e=>{Y.info=e,Y.visible=!0},to=()=>({show:eo,controller:Y}),oo=$({__name:"App",setup(e){const t=_(),o=(r,l)=>l.meta.popup?t.value:(t.value=r,r),s=(r,l)=>{if(l.meta.popup)return r},{controller:n}=to();return(r,l)=>{const c=Ue("router-view");return f(),I(be,null,[O(c,null,{default:B(({Component:a,route:m})=>[O(Q,{name:"fade"},{default:B(()=>[(f(),k(me(o(a,m))))]),_:2},1024),(f(),k(te,{to:"body"},[O(Q,{name:"popup-slide",duration:300},{default:B(()=>[s(a,m)?(f(),k(Ge,De($e({key:0},m.meta.popupOption)),{default:B(()=>[(f(),k(me(s(a,m))))]),_:2},1040)):P("",!0)]),_:2},1024)]))]),_:1}),O(Xt,{controller:h(n)},null,8,["controller"]),O(h(et)),O(at,{controller:h(ut)},null,8,["controller"])],64)}}});const no="modulepreload",so=function(e){return"/"+e},_e={},x=function(t,o,s){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=so(n),n in _e)return;_e[n]=!0;const r=n.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${l}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":no,r||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),r)return new Promise((a,m)=>{c.addEventListener("load",a),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},ro=Ve({history:Fe(),routes:[{path:"/",redirect:"/home"},{path:"/home",component:()=>x(()=>import("./MainLayout.c1a3c17f.js"),["assets/MainLayout.c1a3c17f.js","assets/MainLayout.7921e0ff.css","assets/@vue.aa17ec7c.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/dayjs.8eec1a0d.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),children:[{path:"/home",name:"home",component:()=>x(()=>import("./HomeView.0ecc75a5.js"),["assets/HomeView.0ecc75a5.js","assets/HomeView.52f34a64.css","assets/BillItem.vue_vue_type_script_setup_true_lang.da604282.js","assets/lodash-es.94cbcf30.js","assets/@vue.aa17ec7c.js","assets/dayjs.8eec1a0d.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])},{path:"/stat",name:"stat",component:()=>x(()=>import("./StatView.496aba47.js"),["assets/StatView.496aba47.js","assets/StatView.9e81e8be.css","assets/dayjs.8eec1a0d.js","assets/DateTime.vue_vue_type_script_setup_true_lang.fb04d68f.js","assets/@vue.aa17ec7c.js","assets/@vueuse.9aab9800.js","assets/echarts.f6f9045b.js","assets/zrender.271abeed.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])},{path:"/search",name:"search",component:()=>x(()=>import("./SearchView.f935ffc2.js"),["assets/SearchView.f935ffc2.js","assets/SearchView.53df3475.css","assets/@vue.aa17ec7c.js","assets/Select.vue_vue_type_style_index_0_lang.d21ee2ab.js","assets/Select.1f0cd725.css","assets/DateTime.vue_vue_type_script_setup_true_lang.fb04d68f.js","assets/dayjs.8eec1a0d.js","assets/BillItem.vue_vue_type_script_setup_true_lang.da604282.js","assets/lodash-es.94cbcf30.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])}]},{path:"/edit",name:"edit",component:()=>x(()=>import("./EditorView.fe1a7445.js"),["assets/EditorView.fe1a7445.js","assets/EditorView.24f8a36c.css","assets/vue-router.835b731e.js","assets/@vue.aa17ec7c.js","assets/DateTime.vue_vue_type_script_setup_true_lang.fb04d68f.js","assets/dayjs.8eec1a0d.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popup:!0},beforeEnter:(e,t)=>t.fullPath==="/"?"/home":!0},{path:"/settings",component:()=>x(()=>import("./SettingsView.aa3b3477.js"),["assets/SettingsView.aa3b3477.js","assets/SettingsView.3b1321de.css","assets/vue-router.835b731e.js","assets/@vue.aa17ec7c.js"]),children:[{path:"/settings",name:"settings",component:()=>x(()=>import("./SettingsList.fcb964a5.js"),["assets/SettingsList.fcb964a5.js","assets/SettingsList.6b7f8e3c.css","assets/UserAvatar.d34ad822.js","assets/UserAvatar.e16389e3.css","assets/@vue.aa17ec7c.js","assets/Select.vue_vue_type_style_index_0_lang.d21ee2ab.js","assets/Select.1f0cd725.css","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/dayjs.8eec1a0d.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"settings"}},{path:"/settings/sync",name:"sync",component:()=>x(()=>import("./DataSync.cfcd29f5.js"),["assets/DataSync.cfcd29f5.js","assets/DataSync.be79f3ae.css","assets/@vue.aa17ec7c.js","assets/cancelablePromise.8984d70f.js","assets/peerjs.faff7497.js","assets/peerjs-js-binarypack.edcf3dbb.js","assets/webrtc-adapter.37c3a6f1.js","assets/rtcpeerconnection-shim.1d74cdf3.js","assets/sdp.c10b5003.js","assets/UserAvatar.d34ad822.js","assets/UserAvatar.e16389e3.css","assets/dayjs.8eec1a0d.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"share-and-sync"}},{path:"/settings/backup",name:"backup",component:()=>x(()=>import("./BackupView.3f6954d1.js"),["assets/BackupView.3f6954d1.js","assets/cancelablePromise.8984d70f.js","assets/@vueuse.9aab9800.js","assets/@vue.aa17ec7c.js","assets/dayjs.8eec1a0d.js","assets/dexie-export-import.af7d5a11.js","assets/dexie.a92c4e2b.js","assets/vue-router.835b731e.js","assets/uuid.fbc3d34b.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"backup"}}],meta:{popup:!0,popupOption:{closeOnModal:!0}},beforeEnter:(e,t)=>t.fullPath==="/"?"/home":!0}]});const io=()=>x(()=>import("./zh.02352537.js"),[]),lo=()=>x(()=>import("./en.2f67c133.js"),[]),J=[{name:"zh",fetcher:io,matcher:e=>e.includes("zh-CN"),label:"\u4E2D\u6587-\u7B80\u4F53"},{name:"en",fetcher:lo,matcher:e=>!0,label:"English"}],ao=function(){var t,o;const e=navigator.language?navigator.language:navigator.browserLanguage;return(o=(t=J.find(s=>s.matcher(e)))==null?void 0:t.name)!=null?o:J[0].name},U=qe("lang",ao()),E=He({locale:U.value,fallbackLocale:"en"}),{t:ke}=E.global,Oo=D({get:()=>{const e=J.find(t=>t.name===U.value);return e?{name:e.label,id:e.name}:void 0},set:e=>{!e||(U.value=e==null?void 0:e.id)}}),ko=async e=>{if(E){const t=J.find(o=>o.name===e);if(t){if(E.global.availableLocales.includes(e)){E.global.locale=e;return}const{default:o}=await t.fetcher();E.global.setLocaleMessage(e,o),E.global.locale=e,document.title=ke("APP_NAME")}}},co=async()=>{const e=J.find(o=>o.name===U.value),{default:t}=await e.fetcher();return E.global.setLocaleMessage(U.value,t),E.global.locale=U.value,document.title=ke("APP_NAME"),E},X=je(oo);X.use(ro);co().then(e=>{X.use(e),X.mount("#app")});export{u as B,wo as F,z as M,se as _,to as a,xo as b,Oo as c,Ie as d,Le as e,Co as f,ft as g,Ao as h,Bt as i,Lo as j,Ee as k,J as l,bo as m,p as n,Ze as o,Eo as p,Et as q,ko as s,ke as t,Io as u};
