var ke=Object.defineProperty;var Me=(e,o,t)=>o in e?ke(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var R=(e,o,t)=>(Me(e,typeof o!="symbol"?o+"":o,t),t);import{m as $,c as D,q as f,t as I,v as i,x as _e,y as ye,z as H,r as _,A as O,k as B,B as k,C as Re,D as ee,E as Se,G as g,u as h,F as be,H as Q,I as P,J as Te,l as Pe,K as Ue,L as de,M as De,N as $e,O as Ne}from"./@vue.aa17ec7c.js";import{u as je,a as xe,c as Ve,b as Fe}from"./vue-router.835b731e.js";import{D as ze,l as we}from"./dexie.a92c4e2b.js";import{v as te}from"./uuid.fbc3d34b.js";import{d as oe}from"./dayjs.8eec1a0d.js";import{u as qe}from"./@vueuse.9aab9800.js";import{c as He}from"./vue-i18n.bcf46dc7.js";import"./@intlify.03657722.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const Je={class:"popup-view fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-1"},We=["onClick"],Ye=$({__name:"PopupRouterView",props:{closeOnModal:{type:Boolean},bodyClass:null},setup(e){const o=e,t=je(),s=D(()=>t.matched[t.matched.length-2].path===t.path),n=xe(),r=()=>{o.closeOnModal&&s.value&&n.back()};return(l,c)=>(f(),I("div",Je,[i("div",{class:"popup-view-modal absolute w-[200%] h-[200%] bg-black opacity-50",onClick:_e(r,["stop"])},null,8,We),i("div",{class:H(["popup-view-body z-1 w-screen h-screen sm:max-w-[550px] sm:max-h-[550px] sm:min-w-[400px] sm:min-h-[400px] sm:w-[60%] sm:h-[50%] sm:top-auto sm:left-auto sm:rounded-lg bg-[white]",e.bodyClass])},[ye(l.$slots,"default",{},void 0,!0)],2)]))}});const ne=(e,o)=>{const t=e.__vccOpts||e;for(const[s,n]of o)t[s]=n;return t},Ge=ne(Ye,[["__scopeId","data-v-40900691"]]),Ke=(()=>{let e=0;return()=>e+=1})();var z=(e=>(e.Success="success",e.Error="error",e.Warning="warning",e))(z||{});const W=_([]),me=3e3,Qe=()=>({messageList:W}),Ze=e=>{var s;const o=Ke(),t=(()=>typeof e=="string"?{type:"success",content:e,timeout:me}:e)();W.value.push({...t,id:o}),setTimeout(()=>{W.value=W.value.filter(({id:n})=>n!==o)},(s=t.timeout)!=null?s:me)},Xe=$({__name:"CustomMessage",setup(e){const{messageList:o}=Qe();return(t,s)=>(f(),O(ee,{to:"body"},[B(Re,{name:"fall",tag:"div"},{default:k(()=>[(f(!0),I(be,null,Se(h(o),n=>(f(),I("div",{key:n.id,class:"message-box fixed left-0 w-full flex justify-center z-4"},[i("div",{class:H(["message fixed rounded-md text-white p-1 mt-3 min-w-[300px] max-w-[90%] text-center shadow",{"bg-green-600":n.type===h(z).Success,"bg-yellow-600":n.type===h(z).Warning,"bg-red-600":n.type===h(z).Error}])},g(n.content),3)]))),128))]),_:1})]))}});const et=ne(Xe,[["__scopeId","data-v-a527f594"]]),tt=["onClick"],ot={class:"dialog-body z-1 max-w-[550px] max-h-[550px] rounded-sm bg-[white]"},Ee=$({__name:"Dialog",props:{visible:{type:Boolean},customClass:null,closeOnModal:{type:Boolean}},emits:["update:visible"],setup(e,{emit:o}){const t=e,s=()=>{t.closeOnModal&&o("update:visible",!1)};return(n,r)=>(f(),O(ee,{to:"body"},[B(Q,{name:"fade"},{default:k(()=>[e.visible?(f(),I("div",{key:0,class:H(["dialog fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-2",[e.customClass]])},[i("div",{class:"dialog-modal absolute w-[200%] h-[200%] bg-black opacity-50",onClick:_e(s,["stop"])},null,8,tt),i("div",ot,[ye(n.$slots,"default")])],2)):P("",!0)]),_:3})]))}});const nt={class:"w-full h-full flex p-2 flex-col"},st={class:"flex-1 flex pb-2 mb-4"},rt={class:"font-bold flex-1 pl-2 flex items-center"},it={class:"w-full flex justify-end"},lt=$({__name:"ConfirmProvider",props:{controller:null},setup(e){const o=e,t=()=>{o.controller.close(!1)},s=()=>{o.controller.close(!0)};return(n,r)=>(f(),O(Ee,{visible:e.controller.visible,"custom-class":"confirm-dialog z-3"},{default:k(()=>{var l,c;return[i("div",nt,[i("div",{class:"w-full flex justify-end"},[i("i",{class:"w-10 icon-close buttoned p-2",onClick:t})]),i("div",st,[i("div",rt,g(e.controller.title),1)]),i("div",it,[i("button",{class:"buttoned shadow rounded px-2 mx-1 px-4",onClick:t},g((l=e.controller.cancelTitle)!=null?l:n.$t("no")),1),i("button",{class:"mx-1 bg-stone-900 text-white rounded px-4",onClick:s},g((c=e.controller.confirmTitle)!=null?c:n.$t("yes")),1)])])]}),_:1},8,["visible"]))}});const at=ne(lt,[["__scopeId","data-v-7e74c5e8"]]),fe=()=>({visible:!1,icon:"dialog-question",title:"",cancelTitle:void 0,confirmTitle:void 0,hideCancelButton:!1,close:()=>{}}),ct=()=>{const e=_(fe());return{show:t=>new Promise((s,n)=>{e.value={...fe(),...t,visible:!0,close:r=>{e.value={...e.value,visible:!1},r?s():n()}}}),controller:e}},{show:bo,controller:ut}=ct();var u=(e=>(e[e.Income=0]="Income",e[e.Expenses=1]="Expenses",e))(u||{});const dt=[{name:"Food",id:"food",type:u.Expenses,icon:"icon-bowl",color:"bg-red-600"},{name:"Transport",id:"transport",type:u.Expenses,icon:"icon-airplane",color:"bg-red-600"},{name:"Shopping",id:"shopping",type:u.Expenses,icon:"icon-shopping-cart",color:"bg-red-600"},{name:"Housing",id:"housing",type:u.Expenses,icon:"icon-home-alt",color:"bg-red-600"},{name:"Entertainment",id:"entertainment",type:u.Expenses,icon:"icon-dice-3",color:"bg-red-600"},{name:"Medical",id:"medical",type:u.Expenses,icon:"icon-pill",color:"bg-red-600"},{name:"Education",id:"education",type:u.Expenses,icon:"icon-pen",color:"bg-red-600"},{name:"Relationship",id:"relationship",type:u.Expenses,icon:"icon-gift",color:"bg-red-600"},{name:"Balance Account",id:"balance-account",type:u.Expenses,icon:"icon-ruler",color:"bg-red-600"},{name:"Other",id:"other-expenses",type:u.Expenses,icon:"icon-bookmark",color:"bg-red-600"}],mt=[{name:"Wage",id:"wage",type:u.Income,icon:"icon-credit-card",color:"bg-red-600"},{name:"Part Time",id:"part-time",type:u.Income,icon:"icon-community",color:"bg-red-600"},{name:"Lean",id:"lean",type:u.Income,icon:"icon-mail-open",color:"bg-red-600"},{name:"Refund",id:"refund",type:u.Income,icon:"icon-arrow-bottom-right",color:"bg-red-600"},{name:"Drawback",id:"drawback",type:u.Income,icon:"icon-pentagon-right",color:"bg-red-600"},{name:"Balance Account",id:"balance-account",type:u.Income,icon:"icon-ruler",color:"bg-red-600"},{name:"Other",id:"other-income",type:u.Income,icon:"icon-bookmark",color:"bg-red-600"}],Ie=[...dt,...mt],G=new Map,ft=e=>{if(G.has(e))return G.get(e);const o=Ie.find(t=>t.id===e);if(o)return G.set(e,o),o},S=class{constructor(){R(this,"records");var o;this.records=JSON.parse((o=localStorage.getItem(S.RECORDS_NAME))!=null?o:"[]")}get version(){var o;return Number((o=localStorage.getItem(S.VERSION_NAME))!=null?o:"1")}set version(o){localStorage.setItem(S.VERSION_NAME,String(o))}has(o){return this.records.some(t=>t===o)}delete(o){this.records=this.records.filter(t=>t!==o),localStorage.setItem(S.RECORDS_NAME,JSON.stringify(this.records))}add(o){this.has(o)||(this.records.push(o),localStorage.setItem(S.RECORDS_NAME,JSON.stringify(this.records)))}};let F=S;R(F,"VERSION_NAME","version"),R(F,"RECORDS_NAME","records");const A=new F,pe={bills:"++id, comment, categoryId, time",users:"++id, nickname, name, me, connectId, latestTransferTime"};class pt extends ze{constructor(){super("billDatabase");R(this,"bills");R(this,"users");R(this,"afterUpgradeFn");this.version(A.version).stores(this.getStoreSchemas())}async addNewBillTable(t,s){var r;if(t==="bills"||t==="users")throw new Error("invalid table name");if(!A.has(t)){A.add(t),await this.upgradeBills(),await((r=this.tables.find(l=>l.name===t))==null?void 0:r.bulkAdd(s));return}const n=this.tables.find(l=>l.name===t);await(n==null?void 0:n.clear()),await(n==null?void 0:n.bulkAdd(s))}async deleteBillTable(t){if(t==="bills"||t==="users")throw new Error("invalid table name");A.has(t)&&(A.delete(t),await this.upgradeBills({[t]:null}))}getOtherBillDbs(){return[...this.tables.filter(t=>A.has(t.name))]}getStoreSchemas(){return{...pe,...Object.fromEntries(A.records.map(t=>[t,pe.bills]))}}async upgradeBills(t){var n;const s=this.verno+1;this.close(),await new Promise(r=>setTimeout(r,500)),this.version(s).stores({...this.getStoreSchemas(),...t}).upgrade(()=>{}),await this.open(),(n=this.afterUpgradeFn)==null||n.call(this),A.version=this.verno}afterUpgrade(t){this.afterUpgradeFn=t}}const p=new pt,vt=(e,o)=>{const t=_(o),s=_(1);return{result:D({get:()=>t.value,set:async n=>{s.value=0;try{const r=await e(n);t.value=r}catch{s.value=2}}}),status:s,directlyChange:n=>{t.value=n}}},gt=()=>({id:te(),name:"Me",me:!0,connectId:"",latestTransferTime:-1}),{result:Z,directlyChange:ve}=vt(async e=>(await p.users.put({...e},e.id),e),{name:"",id:"",me:!1,connectId:"",latestTransferTime:-1});let K=!1;const Ce=async()=>{const e=await p.users.toArray();if(e.length===0&&!K){K=!0;const o=gt();return await p.users.add({...o,me:!0}),K=!1,ve(o),e}return ve(e.find(o=>o.me)),e};Ce();const se=_([]);we(async()=>await Ce()).subscribe(e=>{se.value=e});const ht=e=>p.users.update(Z.value.id,{...Z.value,...e}),_t=async(e,o)=>{const t=await p.users.get(e);return p.users.update(e,{...t,...o})},yt=e=>{var o;return p.users.add({...e,id:(o=e.id)!=null?o:te(),me:!1})},bt=async e=>{await p.users.delete(e),await p.deleteBillTable(e)},Le=()=>({userInfo:Z,allUsers:se,setMyInfo:ht,updateUserInfo:_t,addUserInfo:yt,removeUserInfo:bt}),xo=e=>se.value.find(o=>o.id===e),xt="*",wt="image/png,image/jpeg,image/gif,image/webp",Et=({accept:e,multiple:o}={accept:xt,multiple:!1})=>{const t=document.createElement("input");return t.type="file",t.accept=e,t.multiple=o,new Promise((s,n)=>{t.addEventListener("change",()=>{if(t.files===null){n();return}s(Array.from(t.files))}),t.addEventListener("error",n),t.click()})},It=(e,o)=>{let t=[],s=e.map((a,m)=>({index:m,count:0}));const n=()=>{s=s.filter(a=>a.count<e[a.index].length)},r=a=>{let m=a[0],T=[a[0].index];a.forEach((y,C)=>{m.val<y.val?(m=y,T=[y.index]):m.val==y.val&&C!=0&&T.push(y.index)}),T.forEach(y=>{const C=y;s.forEach(d=>{d.index==C&&d.count++})}),n(),t.push(m.raw)};n();let l=[];for(;s.length>1;)l=s.map((a,m)=>({index:a.index,val:e[a.index][a.count][o],raw:e[a.index][a.count]})),r(l);if(!s[0])return t;const c=e[s[0].index].slice(s[0].count);return t=t.concat(c),t},{userInfo:Ct}=Le(),wo=e=>p.deleteBillTable(e),Lt=e=>p.bills.add({...e,id:te(),creatorId:Ct.value.id}),At=async e=>{await p.bills.delete(e)},Bt=async(e,o)=>{const t=await p.bills.get(e);if(t)return p.bills.put({...t,...o},e)},Ae=_([]),Be=()=>we(async()=>{const e=await p.bills.orderBy("time").reverse().toArray(),o=p.getOtherBillDbs(),t=[e,...await Promise.all(o.map(s=>s.orderBy("time").reverse().toArray()))];return It(t,"time")}).subscribe({next:e=>{Ae.value=e},error:e=>{}});let ge=Be();p.afterUpgrade(()=>{ge.unsubscribe(),ge=Be()});const Eo=()=>({list:Ae}),Ot=(e,o)=>o===void 0?!0:[u.Expenses,u.Income].includes(e.type),kt=(e,o,t)=>{const s=oe.unix(e.time);return o?t?s.isAfter(o)&&s.isBefore(t):s.isAfter(o):t?s.isBefore(t):!0},Mt=(e,o=-1/0,t=1/0)=>e.money<=t&&e.money>=o,Rt=(e,o)=>o.some(t=>e.creatorId===t),St=(e,o)=>o.some(t=>e.categoryId===t),Tt=(e,o)=>o?Boolean(e.comment.includes(o)):!0,Io=(e,o)=>Ot(e,o.type)&&Rt(e,o.users)&&St(e,o.categories)&&Mt(e,o.min,o.max)&&kt(e,o.start,o.end)&&Tt(e,o.comment),v=_(),q=_("add"),Pt=(e="add",o,t)=>{v.value=o,q.value=e,t==null||t.push("/edit")},Co=()=>{v.value=void 0,q.value="add"},Lo=e=>{var y,C,d,b,w,L,N,j,re,ie,le;const o=_(u.Expenses),t=_(),s=D(()=>Ie.filter(M=>M.type===o.value)),n=_(s.value[0].id),r=_(""),l=_("");Te(()=>{n.value=s.value[0].id});const c=_(),a=async()=>{const[M]=await Et({accept:wt,multiple:!1}),V=URL.createObjectURL(M);c.value&&URL.revokeObjectURL(c.value.url),c.value={url:V,file:M}};if(q.value==="edit"&&(o.value=(C=(y=v.value)==null?void 0:y.type)!=null?C:o.value,t.value=(w=(d=v.value)!=null&&d.time?oe.unix((b=v.value)==null?void 0:b.time):void 0)!=null?w:t.value,n.value=(N=(L=v.value)==null?void 0:L.categoryId)!=null?N:n.value,r.value=((j=v.value)==null?void 0:j.money)!==void 0?v.value.money:r.value,l.value=(ie=(re=v.value)==null?void 0:re.comment)!=null?ie:l.value,(le=v.value)!=null&&le.image)){const M=v.value.image instanceof Blob?URL.createObjectURL(v.value.image):URL.createObjectURL(new Blob([v.value.image]));c.value={file:v.value.image,url:M}}const m=()=>{e.back()};return{time:t,type:o,categories:s,cateId:n,comment:l,result:r,image:c,onConfirm:async()=>{var ae,ce;const V=(()=>{var ue;return{type:o.value,time:t.value.unix(),categoryId:n.value,money:Number(r.value),comment:l.value,image:(ue=c.value)==null?void 0:ue.file}})();if(V.money<0){Ze({type:z.Error,content:"money can not be negative"});return}if(q.value==="add"){await Lt(V),m();return}q.value==="edit"&&(ae=v.value)!=null&&ae.id&&(await Bt((ce=v.value)==null?void 0:ce.id,V),m())},goBack:m,chooseImage:a}},Ut={key:0,class:"min-h-[300px] p-4 flex flex-col w-full h-full"},Dt={class:"flex-1 flex flex-col"},$t={class:"flex items-center justify-between"},Nt={class:"flex items-center"},jt={class:"rounded-full bg-white border p-4"},Vt={class:"flex text-md font-semibold mx-2"},Ft=i("div",{class:"w-full border border-dashed my-2"},null,-1),zt={class:"text-gray-500"},qt={class:"flex justify-between items-center my-1"},Ht={class:"flex-1 overflow-x-auto text-right"},Jt={class:"flex justify-between items-center my-1"},Wt={class:"flex justify-between items-center my-1"},Yt={key:0,class:"flex-1 py-2 flex items-center justify-center"},Gt=["src"],Kt={class:"footer flex justify-between items-center"},Qt={class:"flex"},Zt={class:"flex"},Xt=$({__name:"BillInfo",props:{controller:null},emits:["delete","edit"],setup(e,{emit:o}){const t=e,s=d=>oe.unix(d).format("YYYY-MM-DD HH:mm"),n=D(()=>{var d,b;return(d=t.controller.info)!=null&&d.categoryId?ft((b=t.controller.info)==null?void 0:b.categoryId):void 0}),{allUsers:r,userInfo:l}=Le(),c=D(()=>{var d,b;return(b=(d=r.value.find(w=>{var L;return w.id===((L=t.controller.info)==null?void 0:L.creatorId)}))==null?void 0:d.name)!=null?b:"unknown user"}),a=()=>{t.controller.set("visible",!1)},m=()=>{t.controller.info&&(At(t.controller.info.id),o("delete",t.controller.info.id)),a()},T=xe(),y=()=>{t.controller.info&&(Pt("edit",t.controller.info,T),o("edit",t.controller.info)),a()},C=d=>URL.createObjectURL(new Blob([d]));return(d,b)=>(f(),O(Ee,{visible:e.controller.visible,"close-on-modal":"","custom-class":"bill-info-dialog","onUpdate:visible":b[0]||(b[0]=w=>e.controller.set("visible",w))},{default:k(()=>{var w,L,N,j;return[e.controller.info?(f(),I("div",Ut,[i("div",Dt,[i("div",$t,[i("div",Nt,[i("div",jt,[i("i",{class:H(["icon-md",[(w=h(n))==null?void 0:w.icon]])},null,2)]),i("div",Vt,[i("div",null,g(d.$t((L=h(n))==null?void 0:L.name)),1)])]),i("div",{class:H(["text-2xl font-bold flex overflow-x-auto",{"text-red-700":e.controller.info.type===h(u).Expenses,"text-green-900":e.controller.info.type===h(u).Income}])},[i("div",null,g(e.controller.info.type===h(u).Expenses?"-":"+"),1),i("div",null,g(e.controller.info.money),1)],2)]),Ft,i("div",zt,[i("div",qt,[i("div",null,g(d.$t("comment"))+":",1),i("div",Ht,g(e.controller.info.comment),1)]),i("div",Jt,[i("div",null,g(d.$t("creator"))+":",1),i("div",null,g(h(c)),1)]),i("div",Wt,[i("div",null,g(d.$t("time"))+":",1),i("div",null,g(s(e.controller.info.time)),1)])]),e.controller.info.image?(f(),I("div",Yt,[i("img",{src:C(e.controller.info.image),alt:"",class:"max-h-200px object-contain rounded"},null,8,Gt)])):P("",!0)]),i("div",Kt,[i("div",Qt,[((N=t.controller.info)==null?void 0:N.creatorId)===h(l).id?(f(),I("div",{key:0,class:"buttoned px-2 rounded-md text-red-600",onClick:m},g(d.$t("delete")),1)):P("",!0)]),i("div",Zt,[i("div",{class:"buttoned px-2 rounded-md",onClick:a},g(d.$t("cancel")),1),((j=t.controller.info)==null?void 0:j.creatorId)===h(l).id?(f(),I("div",{key:0,class:"buttoned ml-2 px-2 rounded-md font-semibold",onClick:y},g(d.$t("edit")),1)):P("",!0)])])])):P("",!0)]}),_:1},8,["visible"]))}});const Y=Pe({info:void 0,visible:!1,set:(e,o)=>{e==="visible"&&(Y.visible=o)}}),eo=e=>{Y.info=e,Y.visible=!0},to=()=>({show:eo,controller:Y}),oo=$({__name:"App",setup(e){const o=_(),t=(r,l)=>l.meta.popup?o.value:(o.value=r,r),s=(r,l)=>{if(l.meta.popup)return r},{controller:n}=to();return(r,l)=>{const c=Ue("router-view");return f(),I(be,null,[B(c,null,{default:k(({Component:a,route:m})=>[B(Q,{name:"fade"},{default:k(()=>[(f(),O(de(t(a,m))))]),_:2},1024),(f(),O(ee,{to:"body"},[B(Q,{name:"popup-slide",duration:300},{default:k(()=>[s(a,m)?(f(),O(Ge,De($e({key:0},m.meta.popupOption)),{default:k(()=>[(f(),O(de(s(a,m))))]),_:2},1040)):P("",!0)]),_:2},1024)]))]),_:1}),B(Xt,{controller:h(n)},null,8,["controller"]),B(h(et)),B(at,{controller:h(ut)},null,8,["controller"])],64)}}});const no="modulepreload",so=function(e){return"/"+e},he={},x=function(o,t,s){return!t||t.length===0?o():Promise.all(t.map(n=>{if(n=so(n),n in he)return;he[n]=!0;const r=n.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${l}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":no,r||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),r)return new Promise((a,m)=>{c.addEventListener("load",a),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>o())},ro=Ve({history:Fe(),routes:[{path:"/",redirect:"/home"},{path:"/home",component:()=>x(()=>import("./MainLayout.04607ee9.js"),["assets/MainLayout.04607ee9.js","assets/MainLayout.7921e0ff.css","assets/@vue.aa17ec7c.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/dayjs.8eec1a0d.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),children:[{path:"/home",name:"home",component:()=>x(()=>import("./HomeView.aa583638.js"),["assets/HomeView.aa583638.js","assets/HomeView.af244a33.css","assets/BillItem.vue_vue_type_script_setup_true_lang.461017cb.js","assets/@vue.aa17ec7c.js","assets/lodash-es.94cbcf30.js","assets/dayjs.8eec1a0d.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])},{path:"/stat",name:"stat",component:()=>x(()=>import("./StatView.dcf6f2f6.js"),["assets/StatView.dcf6f2f6.js","assets/StatView.9e81e8be.css","assets/dayjs.8eec1a0d.js","assets/DateTime.vue_vue_type_script_setup_true_lang.fb04d68f.js","assets/@vue.aa17ec7c.js","assets/@vueuse.9aab9800.js","assets/echarts.f6f9045b.js","assets/zrender.271abeed.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])},{path:"/search",name:"search",component:()=>x(()=>import("./SearchView.a8b69268.js"),["assets/SearchView.a8b69268.js","assets/SearchView.48027c83.css","assets/@vue.aa17ec7c.js","assets/Select.vue_vue_type_style_index_0_lang.38fb11d8.js","assets/Select.c9f10c3d.css","assets/DateTime.vue_vue_type_script_setup_true_lang.fb04d68f.js","assets/dayjs.8eec1a0d.js","assets/BillItem.vue_vue_type_script_setup_true_lang.461017cb.js","assets/lodash-es.94cbcf30.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"])}]},{path:"/edit",name:"edit",component:()=>x(()=>import("./EditorView.178ffc8e.js"),["assets/EditorView.178ffc8e.js","assets/EditorView.24f8a36c.css","assets/vue-router.835b731e.js","assets/@vue.aa17ec7c.js","assets/DateTime.vue_vue_type_script_setup_true_lang.fb04d68f.js","assets/dayjs.8eec1a0d.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popup:!0},beforeEnter:(e,o)=>o.fullPath==="/"?"/home":!0},{path:"/settings",component:()=>x(()=>import("./SettingsView.4acbf918.js"),["assets/SettingsView.4acbf918.js","assets/SettingsView.3b1321de.css","assets/vue-router.835b731e.js","assets/@vue.aa17ec7c.js"]),children:[{path:"/settings",name:"settings",component:()=>x(()=>import("./SettingsList.b2089b45.js"),["assets/SettingsList.b2089b45.js","assets/UserAvatar.71cd1220.js","assets/UserAvatar.e16389e3.css","assets/@vue.aa17ec7c.js","assets/Select.vue_vue_type_style_index_0_lang.38fb11d8.js","assets/Select.c9f10c3d.css","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/dayjs.8eec1a0d.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"settings"}},{path:"/settings/sync",name:"sync",component:()=>x(()=>import("./DataSync.4c196db3.js"),["assets/DataSync.4c196db3.js","assets/DataSync.be79f3ae.css","assets/@vue.aa17ec7c.js","assets/peerjs.faff7497.js","assets/peerjs-js-binarypack.edcf3dbb.js","assets/webrtc-adapter.37c3a6f1.js","assets/rtcpeerconnection-shim.1d74cdf3.js","assets/sdp.c10b5003.js","assets/UserAvatar.71cd1220.js","assets/UserAvatar.e16389e3.css","assets/dayjs.8eec1a0d.js","assets/vue-router.835b731e.js","assets/dexie.a92c4e2b.js","assets/uuid.fbc3d34b.js","assets/@vueuse.9aab9800.js","assets/vue-i18n.bcf46dc7.js","assets/@intlify.03657722.js"]),meta:{popupTitle:"share-and-sync"}}],meta:{popup:!0,popupOption:{closeOnModal:!0}},beforeEnter:(e,o)=>o.fullPath==="/"?"/home":!0}]});const io=()=>x(()=>import("./zh.e029cdff.js"),[]),lo=()=>x(()=>import("./en.53aad350.js"),[]),J=[{name:"zh",fetcher:io,matcher:e=>e.includes("zh-CN"),label:"\u4E2D\u6587-\u7B80\u4F53"},{name:"en",fetcher:lo,matcher:e=>!0,label:"English"}],ao=function(){var o,t;const e=navigator.language?navigator.language:navigator.browserLanguage;return(t=(o=J.find(s=>s.matcher(e)))==null?void 0:o.name)!=null?t:J[0].name},U=qe("lang",ao()),E=He({locale:U.value,fallbackLocale:"en"}),{t:Oe}=E.global,Ao=D({get:()=>{const e=J.find(o=>o.name===U.value);return e?{name:e.label,id:e.name}:void 0},set:e=>{!e||(U.value=e==null?void 0:e.id)}}),Bo=async e=>{if(E){const o=J.find(t=>t.name===e);if(o){if(E.global.availableLocales.includes(e)){E.global.locale=e;return}const{default:t}=await o.fetcher();E.global.setLocaleMessage(e,t),E.global.locale=e,document.title=Oe("APP_NAME")}}},co=async()=>{const e=J.find(t=>t.name===U.value),{default:o}=await e.fetcher();return E.global.setLocaleMessage(U.value,o),E.global.locale=U.value,document.title=Oe("APP_NAME"),E},X=Ne(oo);X.use(ro);co().then(e=>{X.use(e),X.mount("#app")});export{u as B,z as M,ne as _,to as a,xo as b,Ao as c,Ie as d,Le as e,Io as f,ft as g,Lo as h,kt as i,Co as j,Ee as k,J as l,bo as m,p as n,Ze as o,wo as p,Bo as s,Oe as t,Eo as u};
